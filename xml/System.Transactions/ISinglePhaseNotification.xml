<Type Name="ISinglePhaseNotification" FullName="System.Transactions.ISinglePhaseNotification">
  <Metadata><Meta Name="ms.openlocfilehash" Value="de18c6b517edf73595894bdd33085ff546bcc4ae" /><Meta Name="ms.sourcegitcommit" Value="0084afad1b3b1cb2c8ad2c142ae3597d08bad4a7" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ja-JP" /><Meta Name="ms.lasthandoff" Value="10/31/2019" /><Meta Name="ms.locfileid" Value="73395599" /></Metadata><TypeSignature Language="C#" Value="public interface ISinglePhaseNotification : System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract ISinglePhaseNotification implements class System.Transactions.IEnlistmentNotification" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.ISinglePhaseNotification" />
  <TypeSignature Language="VB.NET" Value="Public Interface ISinglePhaseNotification&#xA;Implements IEnlistmentNotification" />
  <TypeSignature Language="C++ CLI" Value="public interface class ISinglePhaseNotification : System::Transactions::IEnlistmentNotification" />
  <TypeSignature Language="F#" Value="type ISinglePhaseNotification = interface&#xA;    interface IEnlistmentNotification" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Transactions.IEnlistmentNotification</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary><span data-ttu-id="ae1d4-101">トランザクションに参加するための単一フェーズ コミットの最適化をサポートしているリソース オブジェクトについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-101">Describes a resource object that supports single phase commit optimization to participate in a transaction.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ae1d4-102">Resource manager では、単一フェーズコミットの最適化をサポートするためにこのインターフェイスを実装している場合でも、単一フェーズコミットを受け取ることは保証されていないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-102">You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit.</span></span> <span data-ttu-id="ae1d4-103">トランザクションマネージャーは、代わりに2フェーズコミット通知を送信できます。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-103">The transaction manager can still send two phase commit notifications instead.</span></span>  
  
 <span data-ttu-id="ae1d4-104">リソースマネージャーをトランザクションの参加要素として参加させるには、<xref:System.Transactions.Transaction.EnlistVolatile%2A> メソッドまたは <xref:System.Transactions.Transaction> クラスの <xref:System.Transactions.Transaction.EnlistDurable%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-104">To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class.</span></span> <span data-ttu-id="ae1d4-105">具体的には、単一フェーズコミットを確実に実行するために、`EnlistmentOptions` パラメーターは <xref:System.Transactions.EnlistmentOptions.None> と同じである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-105">Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed.</span></span> <span data-ttu-id="ae1d4-106">誤って <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>に設定されている場合、1フェーズコミットは実行されません。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-106">If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.</span></span>  
  
 <span data-ttu-id="ae1d4-107"><xref:System.Transactions.ISinglePhaseNotification> インターフェイスは <xref:System.Transactions.IEnlistmentNotification> インターフェイスから派生しているため、リソースマネージャーは2フェーズコミット通知のために後者のすべてのメソッドを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-107">Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.</span></span>  <span data-ttu-id="ae1d4-108">このリソースマネージャーでは、2フェーズコミットまたは単一フェーズコミット最適化が使用されているかどうかについて、トランザクションマネージャーが選択します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-108">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="ae1d4-109">ただし、このインターフェイスを実装することにより、リソースマネージャーは、使用可能な場合に最適化を利用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-109">However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.</span></span>  
  
 <span data-ttu-id="ae1d4-110">最適化が使用され、トランザクションマネージャーが、参加しているリソースの <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> メソッドを呼び出す場合、リソースマネージャーは、トランザクションが次のものであるかどうかをトランザクションマネージャーに通知するために、<xref:System.Transactions.SinglePhaseEnlistment> クラスのさまざまなメソッドを使用して、この呼び出しに応答する必要があります。コミットまたはロールバックします。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-110">If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Transactions.IEnlistmentNotification" />
  </Docs>
  <Members>
    <Member MemberName="SinglePhaseCommit">
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment) cil managed" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ singlePhaseEnlistment);" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="F#" Value="abstract member SinglePhaseCommit : System.Transactions.SinglePhaseEnlistment -&gt; unit" Usage="iSinglePhaseNotification.SinglePhaseCommit singlePhaseEnlistment" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
      <MemberSignature Language="C#" Value="public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SinglePhaseCommit(class System.Transactions.SinglePhaseEnlistment enlistment) cil managed" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="VB.NET" Value="Public Sub SinglePhaseCommit (enlistment As SinglePhaseEnlistment)" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void SinglePhaseCommit(System::Transactions::SinglePhaseEnlistment ^ enlistment);" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberSignature Language="F#" Value="abstract member SinglePhaseCommit : System.Transactions.SinglePhaseEnlistment -&gt; unit" Usage="iSinglePhaseNotification.SinglePhaseCommit enlistment" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="singlePhaseEnlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="netcore-2.0;netcore-2.1;netcore-2.2;netcore-3.0;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;netstandard-2.0;netstandard-2.1" />
        <Parameter Name="enlistment" Type="System.Transactions.SinglePhaseEnlistment" Index="0" FrameworkAlternate="xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0" />
      </Parameters>
      <Docs>
        <param name="singlePhaseEnlistment"><span data-ttu-id="ae1d4-111">トランザクション マネージャーに応答を送信するために使用する <see cref="T:System.Transactions.SinglePhaseEnlistment" />。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-111">A <see cref="T:System.Transactions.SinglePhaseEnlistment" /> used to send a response to the transaction manager.</span></span></param>
        <param name="enlistment"><span data-ttu-id="ae1d4-112">トランザクション マネージャーに応答を送信するために使用する <see cref="T:System.Transactions.SinglePhaseEnlistment" />。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-112">A <see cref="T:System.Transactions.SinglePhaseEnlistment" /> used to send a response to the transaction manager.</span></span></param>
        <summary><span data-ttu-id="ae1d4-113">単一フェーズ コミットの最適化に対応したリソース マネージャーにおけるコールバックの実装を表します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-113">Represents the resource manager's implementation of the callback for the single phase commit optimization.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ae1d4-114">このリソースマネージャーでは、2フェーズコミットまたは単一フェーズコミット最適化が使用されているかどうかについて、トランザクションマネージャーが選択します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-114">It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.</span></span>  <span data-ttu-id="ae1d4-115">単一フェーズと2フェーズコミットの詳細については、「[単一フェーズおよび複数フェーズでのトランザクションのコミット](https://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-115">For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](https://msdn.microsoft.com/library/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).</span></span>  
  
 <span data-ttu-id="ae1d4-116">このため、リソースマネージャーのこの参加リストでは、<xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> メソッドが呼び出されるか、<xref:System.Transactions.IEnlistmentNotification> インターフェイスに定義されている2つのフェーズコミットメソッドが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-116">Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in the <xref:System.Transactions.IEnlistmentNotification> interface are called.</span></span>  
  
 <span data-ttu-id="ae1d4-117">このメソッドの実装では、<xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> メソッドまたは `singlePhaseEnlistment` パラメーターの <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> メソッドを呼び出して、トランザクションをコミットまたはロールバックする必要があるかどうかを示す必要があります。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-117">Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back.</span></span>  
  
 <span data-ttu-id="ae1d4-118">トランザクションマネージャーは、単一フェーズコミットをサポートする揮発性の参加リストが1つしかない場合、または、0個以上の揮発性の参加リストと1つの永続参加リストがある場合に、このメソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-118">The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment.</span></span> <span data-ttu-id="ae1d4-119">後者の場合、揮発性の参加リストは2フェーズコミットの <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> 通知を受信し、唯一の永続参加リストは1フェーズコミット通知を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="ae1d4-119">In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
