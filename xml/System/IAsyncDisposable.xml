<Type Name="IAsyncDisposable" FullName="System.IAsyncDisposable">
  <Metadata><Meta Name="ms.openlocfilehash" Value="bbd87cb9c175eb0c4d5aa893ad32101018b03b5b" /><Meta Name="ms.sourcegitcommit" Value="bc24a3ba616ee1df8b858f9400cae4f058ea3a7e" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ja-JP" /><Meta Name="ms.lasthandoff" Value="06/19/2019" /><Meta Name="ms.locfileid" Value="67245150" /></Metadata><TypeSignature Language="C#" Value="public interface IAsyncDisposable" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IAsyncDisposable" />
  <TypeSignature Language="DocId" Value="T:System.IAsyncDisposable" />
  <TypeSignature Language="VB.NET" Value="Public Interface IAsyncDisposable" />
  <TypeSignature Language="C++ CLI" Value="public interface class IAsyncDisposable" />
  <TypeSignature Language="F#" Value="type IAsyncDisposable = interface" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.1.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="13a2a-101">アンマネージ リソースを非同期的に解放するためのメカニズムを提供します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-101">Provides a mechanism for releasing unmanaged resources asynchronously.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  

## Remarks

<span data-ttu-id="13a2a-102">.NET では、通常はアンマネージ リソースを所有するクラスの実装、<xref:System.IDisposable>アンマネージ リソースを同期的に解放するためのメカニズムを提供するインターフェイス。</span><span class="sxs-lookup"><span data-stu-id="13a2a-102">In .NET, classes that own unmanaged resources usually implement the <xref:System.IDisposable> interface to provide a mechanism for releasing unmanaged resources synchronously.</span></span> <span data-ttu-id="13a2a-103">ただし、場合によっては必要なに加えて (または instead of) のアンマネージ リソースを解放する非同期メカニズムを提供する同期の 1 つ。</span><span class="sxs-lookup"><span data-stu-id="13a2a-103">However, in some cases they need to provide an asynchronous mechanism for releasing unmanaged resources in addition to (or instead of) the synchronous one.</span></span> <span data-ttu-id="13a2a-104">時間の長い GUI アプリケーションのメイン スレッドをブロックすることがなくリソースを消費する破棄操作を実行するコンシューマーは、このようなメカニズムを提供できます。</span><span class="sxs-lookup"><span data-stu-id="13a2a-104">Providing such a mechanism enables the consumer to perform resource-intensive dispose operations without blocking the main thread of a GUI application for a long time.</span></span>

<span data-ttu-id="13a2a-105"><xref:System.IAsyncDisposable.DisposeAsync%2A?displayProperty=nameWithType>このインターフェイスのメソッドを返します、<xref:System.Threading.Tasks.ValueTask>を表す非同期の破棄操作。</span><span class="sxs-lookup"><span data-stu-id="13a2a-105">The <xref:System.IAsyncDisposable.DisposeAsync%2A?displayProperty=nameWithType> method of this interface returns a <xref:System.Threading.Tasks.ValueTask> that represents the asynchronous dispose operation.</span></span> <span data-ttu-id="13a2a-106">アンマネージ リソースを所有するクラスが、このメソッドを実装し、これらのクラスのコンシューマーが不要になったときに、オブジェクトでこのメソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-106">Classes that own unmanaged resources implement this method, and the consumer of these classes calls this method on an object when it is no longer needed.</span></span>

<span data-ttu-id="13a2a-107">非同期メソッドと組み合わせてで使用される、`async`と`await`キーワードC#および Visual Basic。</span><span class="sxs-lookup"><span data-stu-id="13a2a-107">The async methods are used in conjunction with the `async` and `await` keywords in C# and Visual Basic.</span></span> <span data-ttu-id="13a2a-108">詳細 insformation は、次を参照してください。[で非同期プログラミング モデルを、タスクC#](/dotnet/csharp/programming-guide/concepts/async/index)または[Async および Await (Visual Basic) を使用した非同期プログラミング](/dotnet/visual-basic/programming-guide/concepts/async/)します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-108">For more insformation, see [The Task asynchronous programming model in C#](/dotnet/csharp/programming-guide/concepts/async/index) or [Asynchronous Programming with Async and Await (Visual Basic)](/dotnet/visual-basic/programming-guide/concepts/async/).</span></span>

### <a name="using-an-object-that-implements-iasyncdisposable"></a><span data-ttu-id="13a2a-109">IAsyncDisposable を実装するオブジェクトを使用します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-109">Using an object that implements IAsyncDisposable</span></span>

<span data-ttu-id="13a2a-110">アプリケーションを実装するオブジェクトを使用する場合、 `IAsyncDisposable`、オブジェクトを呼び出す必要があります<xref:System.IAsyncDisposable.DisposeAsync%2A>実装を使用してこれが完了したら。</span><span class="sxs-lookup"><span data-stu-id="13a2a-110">If your application uses an object that implements `IAsyncDisposable`, you should call the object's <xref:System.IAsyncDisposable.DisposeAsync%2A> implementation when you are finished using it.</span></span> <span data-ttu-id="13a2a-111">例外が発生した場合でも、リソースを解放するを呼び出して、<xref:System.IAsyncDisposable.DisposeAsync%2A>メソッド内で、`finally`の句、 `try` / `finally`ステートメント。</span><span class="sxs-lookup"><span data-stu-id="13a2a-111">To make sure resources are released even in case of an exception, call the <xref:System.IAsyncDisposable.DisposeAsync%2A> method inside a `finally` clause of the `try`/`finally` statement.</span></span> <span data-ttu-id="13a2a-112">詳細については、 `try` / `finally`パターンは、「 [、try-finally](~/docs/csharp/language-reference/keywords/try-finally.md) (C#) または[お試しください.キャッチしてください.Finally ステートメント](~/docs/visual-basic/language-reference/statements/try-catch-finally-statement.md)(Visual Basic) します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-112">For more information about the `try`/`finally` pattern, see [try-finally](~/docs/csharp/language-reference/keywords/try-finally.md) (C#) or [Try...Catch...Finally Statement](~/docs/visual-basic/language-reference/statements/try-catch-finally-statement.md) (Visual Basic).</span></span>

### <a name="implementing-iasyncdisposable"></a><span data-ttu-id="13a2a-113">IAsyncDisposable を実装します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-113">Implementing IAsyncDisposable</span></span>   
    
<span data-ttu-id="13a2a-114">実装する場合があります`IAsyncDisposable`次の状況で。</span><span class="sxs-lookup"><span data-stu-id="13a2a-114">You might implement `IAsyncDisposable` in the following situations:</span></span>

- <span data-ttu-id="13a2a-115">非同期列挙子を開発する際に、アンマネージ リソースを所有します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-115">When developing an asynchronous enumerator that owns unmanaged resources.</span></span> <span data-ttu-id="13a2a-116">非同期の列挙子を併用、 C# 8.0 非同期ストリームの機能です。</span><span class="sxs-lookup"><span data-stu-id="13a2a-116">Asynchronous enumerators are used with the C# 8.0 async streams feature.</span></span> <span data-ttu-id="13a2a-117">非同期ストリームの詳細については、次を参照してください。[チュートリアル。生成および使用を使用して非同期ストリームC#8.0、および .NET Core 3.0](/dotnet/csharp/tutorials/generate-consume-asynchronous-stream)します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-117">For more information about async streams, see [Tutorial: Generate and consume async streams using C# 8.0 and .NET Core 3.0](/dotnet/csharp/tutorials/generate-consume-asynchronous-stream).</span></span>

- <span data-ttu-id="13a2a-118">クラスがアンマネージ リソースを所有しているし、それらをリリース ファイルに、中間バッファーの内容をフラッシュしたり、接続を終了するネットワーク上でパケットを送信するなどのリソースを消費する I/O 操作が必要です。</span><span class="sxs-lookup"><span data-stu-id="13a2a-118">When your class owns unmanaged resources and releasing them requires a resource-intensive I/O operation, such as flushing the contents of an intermediate buffer into a file or sending a packet over a network to close a connection.</span></span>

<span data-ttu-id="13a2a-119">使用して、<xref:System.IAsyncDisposable.DisposeAsync%2A>解放、リリース、またはアンマネージ リソースをリセットするなど、アンマネージ リソースを使用した後、必要なクリーンアップ処理をすべてを実行するメソッド。</span><span class="sxs-lookup"><span data-stu-id="13a2a-119">Use the <xref:System.IAsyncDisposable.DisposeAsync%2A> method to perform whatever cleanup is necessary after using the unmanaged resources, such as freeing, releasing, or resetting the unmanaged resources.</span></span> <span data-ttu-id="13a2a-120">.NET でのアンマネージ リソースの詳細については、次を参照してください。[アンマネージ リソースのクリーンアップ](/dotnet/standard/garbage-collection/unmanaged)します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-120">For more information about unmanaged resources in .NET, see [Cleaning Up Unmanaged Resources](/dotnet/standard/garbage-collection/unmanaged).</span></span>
 
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="DisposeAsync">
      <MemberSignature Language="C#" Value="public System.Threading.Tasks.ValueTask DisposeAsync ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Threading.Tasks.ValueTask DisposeAsync() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IAsyncDisposable.DisposeAsync" />
      <MemberSignature Language="VB.NET" Value="Public Function DisposeAsync () As ValueTask" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Threading::Tasks::ValueTask DisposeAsync();" />
      <MemberSignature Language="F#" Value="abstract member DisposeAsync : unit -&gt; System.Threading.Tasks.ValueTask" Usage="iAsyncDisposable.DisposeAsync " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.1.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ValueTask</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="13a2a-121">アンマネージ リソースの非同期の解放およびリセットに関連付けられているアプリケーション定義のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-121">Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources asynchronously.</span></span></summary>
        <returns><span data-ttu-id="13a2a-122">非同期の破棄操作を表すタスク。</span><span class="sxs-lookup"><span data-stu-id="13a2a-122">A task that represents the asynchronous dispose operation.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  

## Remarks

<span data-ttu-id="13a2a-123">非同期的に閉じるか、ファイル、ストリーム、およびこのインターフェイスを実装するクラスのインスタンスによって保持されているハンドルなどのアンマネージ リソースを解放するには、このメソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-123">Use this method to asynchronously close or release unmanaged resources such as files, streams, and handles held by an instance of the class that implements this interface.</span></span> <span data-ttu-id="13a2a-124">代わりに、このメソッドを使用して<xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType>時間の長い GUI アプリケーションのメイン スレッドをブロックすることがなくリソースを消費する破棄操作を実行することができます。</span><span class="sxs-lookup"><span data-stu-id="13a2a-124">Using this method instead of <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> enables you to perform a resource-intensive dispose operation without blocking the main thread of a GUI application for a long time.</span></span>

> [!WARNING]
>  <span data-ttu-id="13a2a-125">実装するクラスを使用している場合、<xref:System.IAsyncDisposable>インターフェイスを呼び出す必要があります、`DisposeAsync`実装クラスの使用が終了するときにします。</span><span class="sxs-lookup"><span data-stu-id="13a2a-125">If you are using a class that implements the <xref:System.IAsyncDisposable> interface, you should call its `DisposeAsync` implementation when you are finished using the class.</span></span> <span data-ttu-id="13a2a-126">詳細については、「IAsyncDisposable を実装するオブジェクトを使用して」」セクションを参照してください、<xref:System.IAsyncDisposable>トピック。</span><span class="sxs-lookup"><span data-stu-id="13a2a-126">For more information, see the "Using an object that implements IAsyncDisposable" section in the <xref:System.IAsyncDisposable> topic.</span></span>

<span data-ttu-id="13a2a-127">このメソッドを実装する場合は、リソースが解放呼び出し包含階層を伝達することで保持されているすべてを確認します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-127">When implementing this method, ensure that all held resources are freed by propagating the call through the containment hierarchy.</span></span> <span data-ttu-id="13a2a-128">たとえば、オブジェクト B オブジェクト C、A、の割り当てし、オブジェクト A がオブジェクト B を割り当て`DisposeAsync`実装を呼び出す必要があります`DisposeAsync`b でを呼び出す必要があります順番`DisposeAsync`cオブジェクトが呼び出す必要がありますも、`DisposeAsync`基底クラスを実装する場合は、基底クラスのメソッド<xref:System.IAsyncDisposable>します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-128">For example, if an object A allocates an object B, and object B allocates an object C, then A's `DisposeAsync` implementation must call `DisposeAsync` on B, which must in turn call `DisposeAsync` on C. An object must also call the `DisposeAsync` method of its base class if the base class implements <xref:System.IAsyncDisposable>.</span></span>

<span data-ttu-id="13a2a-129">オブジェクトの場合、`DisposeAsync`メソッドが複数回呼び出されて、オブジェクトが 1 つ目の後のすべての呼び出しを無視する必要があり、同期的に返す正常に完了した<xref:System.Threading.Tasks.ValueTask>します。</span><span class="sxs-lookup"><span data-stu-id="13a2a-129">If an object's `DisposeAsync` method is called more than once, the object must ignore all calls after the first one and synchronously return a successfully completed <xref:System.Threading.Tasks.ValueTask>.</span></span> <span data-ttu-id="13a2a-130">場合、オブジェクトが例外をスローする必要があります、`DisposeAsync`メソッドは複数回呼び出されました。</span><span class="sxs-lookup"><span data-stu-id="13a2a-130">The object must not throw an exception if its `DisposeAsync` method is called multiple times.</span></span> <span data-ttu-id="13a2a-131">インスタンス メソッド以外の`DisposeAsync`スローすることができます、<xref:System.ObjectDisposedException>リソースは既に破棄されています。</span><span class="sxs-lookup"><span data-stu-id="13a2a-131">Instance methods other than `DisposeAsync` can throw an <xref:System.ObjectDisposedException> when resources are already disposed.</span></span>
 
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>