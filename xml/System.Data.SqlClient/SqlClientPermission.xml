<Type Name="SqlClientPermission" FullName="System.Data.SqlClient.SqlClientPermission">
  <Metadata><Meta Name="ms.openlocfilehash" Value="087bf8beb6568b3a7579a52e927d991a04d220d7" /><Meta Name="ms.sourcegitcommit" Value="367e1eae0725e6da7136cd073aaa856ded5d5c29" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="ja-JP" /><Meta Name="ms.lasthandoff" Value="12/13/2019" /><Meta Name="ms.locfileid" Value="75019970" /></Metadata><TypeSignature Language="C#" Value="public sealed class SqlClientPermission : System.Data.Common.DBDataPermission" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable sealed beforefieldinit SqlClientPermission extends System.Data.Common.DBDataPermission" />
  <TypeSignature Language="DocId" Value="T:System.Data.SqlClient.SqlClientPermission" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SqlClientPermission&#xA;Inherits DBDataPermission" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlClientPermission sealed : System::Data::Common::DBDataPermission" />
  <TypeSignature Language="F#" Value="type SqlClientPermission = class&#xA;    inherit DBDataPermission" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Security.Permissions</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
    <AssemblyVersion>4.0.2.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Data.Common.DBDataPermission</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Serializable</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="f7ed6-101">.NET Framework SQL Server 用データ プロバイダーで、データ ソースへのアクセスに関するセキュリティ レベルをユーザーに適切に割り当てることができるようにします。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-101">Enables the .NET Framework Data Provider for SQL Server to help make sure that a user has a security level sufficient to access a data source.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="f7ed6-102"><xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> プロパティは、<xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> プロパティよりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-102">The <xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> property takes precedence over the <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> property.</span></span> <span data-ttu-id="f7ed6-103">このため、<xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> を `false`に設定した場合は、ユーザーが空白のパスワードを使用して接続しないようにするために、<xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> を `false` に設定する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-103">Therefore, if you set <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> to `false`, you must also set <xref:System.Data.Common.DBDataPermission.IsUnrestricted%2A> to `false` to prevent a user from making a connection using a blank password.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f7ed6-104">ADO.NET に対してコードアクセスセキュリティのアクセス許可を使用する場合、適切なパターンは、最も制限の厳しいケース (アクセス許可なし) で開始し、コードが実行する必要のある特定のタスクに必要な特定のアクセス許可を追加することです。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-104">When using code access security permissions for ADO.NET, the correct pattern is to start with the most restrictive case (no permissions at all) and then add the specific permissions that are needed for the particular task that the code needs to perform.</span></span> <span data-ttu-id="f7ed6-105">同じ接続文字列を表現する方法が多数あるため、逆のパターン (すべてのアクセス許可で始まり、特定のアクセス許可の拒否) はセキュリティで保護されていません。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-105">The opposite pattern, starting with all permissions and then denying a specific permission, is not secure, because there are many ways of expressing the same connection string.</span></span> <span data-ttu-id="f7ed6-106">たとえば、すべての権限を与えた後で接続文字列 "server=someserver" の使用を拒否しても、"server=someserver.mycompany.com" という接続文字列は使用可能です。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-106">For example, if you start with all permissions and then attempt to deny the use of the connection string "server=someserver", the string "server=someserver.mycompany.com" would still be allowed.</span></span> <span data-ttu-id="f7ed6-107">常に権限をまったく与えない状態から開始することで、権限セットのセキュリティ ホールを減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-107">By always starting by granting no permissions at all, you reduce the chances that there are holes in the permission set.</span></span>  
  
 ]]></format>
    </remarks>
    <related type="Article" href="https://msdn.microsoft.com/library/93e099eb-daa1-4f1e-b031-c1e10a996f88"><span data-ttu-id="f7ed6-108">コード アクセス セキュリティと ADO.NET</span><span class="sxs-lookup"><span data-stu-id="f7ed6-108">Code Access Security and ADO.NET</span></span></related>
    <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-109">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-109">ADO.NET Overview</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="f7ed6-110"><see cref="T:System.Data.SqlClient.SqlClientPermission" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-110">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-111">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-111">ADO.NET Overview</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName>System.Obsolete("use SqlClientPermission(PermissionState.None)", true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName>System.Obsolete("SqlClientPermission() has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="f7ed6-112"><see cref="T:System.Data.SqlClient.SqlClientPermission" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-112">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-113">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-113">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission (System.Security.Permissions.PermissionState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Security.Permissions.PermissionState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor(System.Security.Permissions.PermissionState)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (state As PermissionState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission(System::Security::Permissions::PermissionState state);" />
      <MemberSignature Language="F#" Value="new System.Data.SqlClient.SqlClientPermission : System.Security.Permissions.PermissionState -&gt; System.Data.SqlClient.SqlClientPermission" Usage="new System.Data.SqlClient.SqlClientPermission state" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="state" Type="System.Security.Permissions.PermissionState" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="f7ed6-114"><see cref="T:System.Security.Permissions.PermissionState" /> 値のいずれか 1 つ。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-114">One of the <see cref="T:System.Security.Permissions.PermissionState" /> values.</span></span></param>
        <summary><span data-ttu-id="f7ed6-115"><see cref="T:System.Data.SqlClient.SqlClientPermission" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-115">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/93e099eb-daa1-4f1e-b031-c1e10a996f88"><span data-ttu-id="f7ed6-116">コード アクセス セキュリティと ADO.NET</span><span class="sxs-lookup"><span data-stu-id="f7ed6-116">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-117">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-117">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlClientPermission (System.Security.Permissions.PermissionState state, bool allowBlankPassword);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Security.Permissions.PermissionState state, bool allowBlankPassword) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.#ctor(System.Security.Permissions.PermissionState,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (state As PermissionState, allowBlankPassword As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlClientPermission(System::Security::Permissions::PermissionState state, bool allowBlankPassword);" />
      <MemberSignature Language="F#" Value="new System.Data.SqlClient.SqlClientPermission : System.Security.Permissions.PermissionState * bool -&gt; System.Data.SqlClient.SqlClientPermission" Usage="new System.Data.SqlClient.SqlClientPermission (state, allowBlankPassword)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-1.1">
          <AttributeName>System.Obsolete("use SqlClientPermission(PermissionState.None)", true)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
          <AttributeName>System.Obsolete("SqlClientPermission(PermissionState state, Boolean allowBlankPassword) has been deprecated.  Use the SqlClientPermission(PermissionState.None) constructor.  http://go.microsoft.com/fwlink/?linkid=14202", true)</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="state" Type="System.Security.Permissions.PermissionState" />
        <Parameter Name="allowBlankPassword" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="f7ed6-118"><see cref="T:System.Security.Permissions.PermissionState" /> 値のいずれか 1 つ。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-118">One of the <see cref="T:System.Security.Permissions.PermissionState" /> values.</span></span></param>
        <param name="allowBlankPassword"><span data-ttu-id="f7ed6-119">空白のパスワードを許可するかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-119">Indicates whether a blank password is allowed.</span></span></param>
        <summary><span data-ttu-id="f7ed6-120"><see cref="T:System.Data.SqlClient.SqlClientPermission" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-120">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="f7ed6-121"><xref:System.Security.Permissions.PermissionState> 列挙体は、<xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> プロパティよりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-121">The <xref:System.Security.Permissions.PermissionState> enumeration takes precedence over the <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> property.</span></span> <span data-ttu-id="f7ed6-122">このため、<xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> を `false`に設定した場合は、ユーザーが空白のパスワードを使用して接続しないようにするために、<xref:System.Security.Permissions.PermissionState> を `None` に設定する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-122">Therefore, if you set <xref:System.Data.Common.DBDataPermission.AllowBlankPassword%2A> to `false`, you must also set <xref:System.Security.Permissions.PermissionState> to `None` to prevent a user from making a connection using a blank password.</span></span> <span data-ttu-id="f7ed6-123">セキュリティ要求の使用方法を示す例については、「[コードアクセスセキュリティと ADO.NET](~/docs/framework/data/adonet/code-access-security.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-123">For an example demonstrating how to use security demands, see [Code Access Security and ADO.NET](~/docs/framework/data/adonet/code-access-security.md).</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/93e099eb-daa1-4f1e-b031-c1e10a996f88"><span data-ttu-id="f7ed6-124">コード アクセス セキュリティと ADO.NET</span><span class="sxs-lookup"><span data-stu-id="f7ed6-124">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-125">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-125">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Add">
      <MemberSignature Language="C#" Value="public override void Add (string connectionString, string restrictions, System.Data.KeyRestrictionBehavior behavior);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Add(string connectionString, string restrictions, valuetype System.Data.KeyRestrictionBehavior behavior) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.Add(System.String,System.String,System.Data.KeyRestrictionBehavior)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Add (connectionString As String, restrictions As String, behavior As KeyRestrictionBehavior)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Add(System::String ^ connectionString, System::String ^ restrictions, System::Data::KeyRestrictionBehavior behavior);" />
      <MemberSignature Language="F#" Value="override this.Add : string * string * System.Data.KeyRestrictionBehavior -&gt; unit" Usage="sqlClientPermission.Add (connectionString, restrictions, behavior)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="connectionString" Type="System.String" />
        <Parameter Name="restrictions" Type="System.String" />
        <Parameter Name="behavior" Type="System.Data.KeyRestrictionBehavior" />
      </Parameters>
      <Docs>
        <param name="connectionString"><span data-ttu-id="f7ed6-126">接続文字列。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-126">The connection string.</span></span></param>
        <param name="restrictions"><span data-ttu-id="f7ed6-127">キーの制限。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-127">The key restrictions.</span></span></param>
        <param name="behavior"><span data-ttu-id="f7ed6-128"><see cref="T:System.Data.KeyRestrictionBehavior" /> 列挙値の 1 つ。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-128">One of the <see cref="T:System.Data.KeyRestrictionBehavior" /> enumerations.</span></span></param>
        <summary><span data-ttu-id="f7ed6-129">新しい接続文字列および予約キーワードのセットを <see cref="T:System.Data.SqlClient.SqlClientPermission" /> オブジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-129">Adds a new connection string and a set of restricted keywords to the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="f7ed6-130">このメソッドは、特定のアクセス許可オブジェクトによって許可される接続文字列を構成するために使用します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-130">Use this method to configure which connection strings are allowed by a particular permission object.</span></span> <span data-ttu-id="f7ed6-131">たとえば、特定の接続文字列だけを許可する場合は、次のコードフラグメントを使用します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-131">For example, use the following code fragment if you want to only allow a specific connection string and nothing else:</span></span>  
  
 `permission.Add("server=MyServer; database=MyDatabase; Integrated Security=true", "", KeyRestrictionBehavior.AllowOnly)`  
  
 <span data-ttu-id="f7ed6-132">次の例では、任意のデータベースを使用する接続文字列を許可します。ただし、ユーザーとパスワードの組み合わせを使用し、他の接続文字列キーワードを含まない、MyServer という名前のサーバー上でのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-132">The following example allows connection strings that use any database, but only on the server named MyServer, with any user and password combination and containing no other connection string keywords:</span></span>  
  
 `permission.Add("server=MyServer;", "database=; user id=; password=;", KeyRestrictionBehavior.AllowOnly)`  
  
 <span data-ttu-id="f7ed6-133">次の例では、上記と同じシナリオを使用しますが、ミラーリング用に構成されたサーバーに接続するときに使用できるフェールオーバーパートナーを指定できます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-133">The following example uses the same scenario as above but allows for a failover partner that can be used when connecting to servers configured for mirroring:</span></span>  
  
 `permission.Add("server=MyServer; failover partner=MyMirrorServer", "database=; user id=; password=;", KeyRestrictionBehavior.AllowOnly)`  
  
> [!NOTE]
>  <span data-ttu-id="f7ed6-134">ADO.NET に対してコードアクセスセキュリティのアクセス許可を使用する場合、適切なパターンは、最も制限の厳しいケース (アクセス許可なし) で開始し、コードが実行する必要のある特定のタスクに必要な特定のアクセス許可を追加することです。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-134">When using code access security permissions for ADO.NET, the correct pattern is to start with the most restrictive case (no permissions at all) and then add the specific permissions that are needed for the particular task that the code needs to perform.</span></span> <span data-ttu-id="f7ed6-135">逆のパターンでは、すべてのアクセス許可から始まり、特定のアクセス許可を拒否しようとしても、安全ではありません。これは、同じ接続文字列を表現する方法が多数あるためです。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-135">The opposite pattern, starting with all permissions and then trying to deny a specific permission, is not secure, because there are many ways of expressing the same connection string.</span></span> <span data-ttu-id="f7ed6-136">たとえば、すべての権限を与えた後で接続文字列 "server=someserver" の使用を拒否しても、"server=someserver.mycompany.com" という接続文字列は使用可能です。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-136">For example, if you start with all permissions and then attempt to deny the use of the connection string "server=someserver", the string "server=someserver.mycompany.com" would still be allowed.</span></span> <span data-ttu-id="f7ed6-137">常に権限をまったく与えない状態から開始することで、権限セットのセキュリティ ホールを減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-137">By always starting by granting no permissions at all, you reduce the chances that there are holes in the permission set.</span></span>  
  
 ]]></format>
        </remarks>
        <related type="Article" href="https://msdn.microsoft.com/library/93e099eb-daa1-4f1e-b031-c1e10a996f88"><span data-ttu-id="f7ed6-138">コード アクセス セキュリティと ADO.NET</span><span class="sxs-lookup"><span data-stu-id="f7ed6-138">Code Access Security and ADO.NET</span></span></related>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-139">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-139">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Copy">
      <MemberSignature Language="C#" Value="public override System.Security.IPermission Copy ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance class System.Security.IPermission Copy() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlClientPermission.Copy" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function Copy () As IPermission" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::Security::IPermission ^ Copy();" />
      <MemberSignature Language="F#" Value="override this.Copy : unit -&gt; System.Security.IPermission" Usage="sqlClientPermission.Copy " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Security.Permissions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
        <AssemblyVersion>4.0.2.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.IPermission</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="f7ed6-140"><see cref="T:System.Data.SqlClient.SqlClientPermission" /> を <see cref="T:System.Security.IPermission" /> として返します。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-140">Returns the <see cref="T:System.Data.SqlClient.SqlClientPermission" /> as an <see cref="T:System.Security.IPermission" />.</span></span></summary>
        <returns><span data-ttu-id="f7ed6-141">現在のアクセス許可オブジェクトのコピー。</span><span class="sxs-lookup"><span data-stu-id="f7ed6-141">A copy of the current permission object.</span></span></returns>
        <remarks>To be added.</remarks>
        <related type="Article" href="~/docs/framework/data/adonet/ado-net-overview.md"><span data-ttu-id="f7ed6-142">ADO.NET の概要</span><span class="sxs-lookup"><span data-stu-id="f7ed6-142">ADO.NET Overview</span></span></related>
      </Docs>
    </Member>
  </Members>
</Type>
