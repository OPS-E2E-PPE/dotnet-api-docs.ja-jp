<Type Name="PersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.PersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="d603d7964d57083f954418f6535bd9d25b1a0e8b" /><Meta Name="ms.sourcegitcommit" Value="1b924db57b3a1cf768d98c21f9b988d6966a0f2b" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ja-JP" /><Meta Name="ms.lasthandoff" Value="03/06/2020" /><Meta Name="ms.locfileid" Value="78765326" /></Metadata><TypeSignature Language="C#" Value="public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit PersonalizationProvider extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class PersonalizationProvider&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class PersonalizationProvider abstract : System::Configuration::Provider::ProviderBase" />
  <TypeSignature Language="F#" Value="type PersonalizationProvider = class&#xA;    inherit ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>パーソナル化プロバイダーの基本機能を実装します。</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 これは、パーソナル化プロバイダーの必要な機能を定義する抽象基本クラスです。 パーソナル化プロバイダーは、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> インスタンスの代わりにパーソナル化データを読み込んで格納します。  
  
 基本クラスは、さまざまなメソッドの標準動作を定義します。基になるデータストアを処理するメソッドだけが abstract としてマークされます。 これにより、開発者は、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用される標準機能を再実装する必要なく、特定のデータストアと対話するためのカスタムプロバイダーを作成できます。  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> から派生させ、このクラスで定義されている抽象メソッドに対してのみ実装を提供できます。 抽象メソッドは、物理的なデータストアにデータを保存して読み込むこと、およびデータストア管理を使用することに特に対処します。 カスタムプロバイダーは、<see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> データの <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> データを区別する方法でパーソナル化情報を操作できる必要があります。 さらに、プロバイダーは、パーソナル化データをページごと、およびアプリケーションごとに分割する必要があります。  
  
<see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> の実装は、いくつかのパーソナル化プロバイダーメソッドが <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />派生クラスのインスタンスを返すため、<see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> の実装と緊密に結合されます。 カスタムプロバイダーの開発を簡単にするために、<see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> 基本クラスには、<see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> クラスによって直接使用されるパーソナル化ロジックとシリアル化/逆シリアル化のロジックの既定の実装が含まれています。 そのため、別のデータストアを操作するためだけにカスタムプロバイダーを作成するには、次の抽象メソッドを実装する必要があります。 
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />-このメソッドは、指定されたクエリパラメーターについて、データベース内のパーソナル化データの行数をカウントできる必要があります。  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />-パスとユーザー名を指定すると、このメソッドは2つのバイナリラージオブジェクト (Blob) をデータベースから読み込みます。1つは共有データ用の BLOB、もう1つはユーザーデータ用です。 ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />-パスとユーザー名を指定すると、このメソッドによってデータベース内の対応する行が削除されます。 ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />-パスとユーザー名を指定して、このメソッドは指定された BLOB をデータベースに保存します。 ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。  
  
これらのメソッドでは、パスのみが指定されている場合、そのページの共有パーソナル化データが操作されていることを示します。 パスとユーザー名の両方がメソッドに渡された場合、ページのユーザーのパーソナル化データが処理されます。 <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />の場合は、指定されたパスの共有データを常に読み込む必要があります。また、ユーザー名が <see langword="null" />ない場合は、必要に応じてパスのユーザーのパーソナル化データも読み込む必要があります。  
  
その他のすべての抽象メソッドは、管理アプリケーションでのみ使用することを意図しており、実行時に Web パーツインフラストラクチャによって使用されることはありません。 パーソナル化プロバイダーの実装の例については、<see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> クラスを参照してください。</para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)">ASP.NET Web パーツコントロール</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)">Web パーツパーソナル化の概要</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/784d8z92(v=vs.100)">チュートリアル: ユーザーコントロールを使用して Web パーツパーソナル化を実装する</related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178182(v=vs.100)">Web パーツパーソナル化</related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected PersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; PersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> クラスの新しいインスタンスを初期化します。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 これは抽象クラスのコンストラクターであるため、このクラスを継承するクラスのインスタンスを作成するには、このメソッドをオーバーライドする必要があります。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public abstract string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>派生クラスでオーバーライドされると、プロバイダーに対して構成されたアプリケーションの名前を取得または設定します。</summary>
        <value>パーソナル化プロバイダーに対して構成されたアプリケーション。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 構成ファイルにアプリケーション名が指定されていない場合、 [Web パーツのパーソナル化 (ASP.NET Settings Schema) 属性の Providers 要素](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195)を使用して、<xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> プロパティの値が使用されます。  
  
> [!CAUTION]
>  <xref:System.Web.HttpApplication> オブジェクトによって処理されるすべての要求に対して1つの既定のパーソナル化プロバイダーインスタンスが使用されるため、複数の要求を同時に実行することができ、それぞれが <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティ値を設定しようとします。 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティは、複数の書き込みに対してスレッドセーフではありません。 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティ値を変更すると、アプリケーションの複数のユーザーに対して予期しない動作が発生する可能性があります。 必要な場合を除き、ユーザーが <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティを設定できるコードを避けることをお勧めします。 たとえば、複数のアプリケーションのパーソナル化データを管理する管理アプリケーションでは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティの設定が必要になることがあります。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSupportedUserCapabilities">
      <MemberSignature Language="C#" Value="protected virtual System.Collections.IList CreateSupportedUserCapabilities ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Collections.IList CreateSupportedUserCapabilities() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateSupportedUserCapabilities () As IList" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Collections::IList ^ CreateSupportedUserCapabilities();" />
      <MemberSignature Language="F#" Value="abstract member CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList&#xA;override this.CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList" Usage="personalizationProvider.CreateSupportedUserCapabilities " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IList</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Web パーツ コントロール セットによって使用される一連の既知の機能を表す <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> オブジェクトのリストを返します。</summary>
        <returns>Web パーツ コントロール セットによって使用される一連の既知の機能を表す <see cref="T:System.Collections.IList" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 現在、このメソッドは、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> と <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>の2つの機能を含むリストを返します。 これらは、[ [web パーツ要素 (ASP.NET settings](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) schema)] 構成セクションの [ [web パーツのパーソナル化] (ASP.NET 設定スキーマ)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09)要素内にある [ [web パーツのパーソナル化] (ASP.NET settings schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434)要素で定義できる既定の機能です。 カスタムパーソナル化インフラストラクチャを実装することを選択した場合は、このメソッドをオーバーライドして、独自の承認関連ユーザー機能のセットを定義できます。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DetermineInitialScope">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, class System.Web.UI.WebControls.WebParts.PersonalizationState loadedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function DetermineInitialScope (webPartManager As WebPartManager, loadedState As PersonalizationState) As PersonalizationScope" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationScope DetermineInitialScope(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::Web::UI::WebControls::WebParts::PersonalizationState ^ loadedState);" />
      <MemberSignature Language="F#" Value="abstract member DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope&#xA;override this.DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope" Usage="personalizationProvider.DetermineInitialScope (webPartManager, loadedState)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationScope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="loadedState" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化情報を管理する <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <param name="loadedState">パーソナル化状態情報。</param>
        <summary>初期パーソナル化スコープが、<see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> スコープと <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> スコープのどちらであるかを判断します。</summary>
        <returns>現在のパーソナル化スコープが <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> と <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> のどちらであるかを示す <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、<xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールへの参照と、パーソナル化ライフサイクルの前から既に読み込まれているパーソナル化状態情報を指定した場合に、現在のスコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> または <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>するかどうかを決定します。 この情報は、後続のパーソナル化関連タスクの <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> インスタンスによって使用されます。  
  
 次の規則は、個人用設定のスコープを決定するために使用されます。  
  
-   スコープは、最初は <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>されることを前提としています。  
  
-   現在実行中のユーザーアカウントが認証されていない場合は、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されます。  
  
-   現在実行中のユーザーアカウントが認証されている場合、追加の処理は優先順位に従って行われます。  
  
    -   ページがポストバックモードの場合、ページ要求には、ページの前のレンダリングからのスコープ情報が含まれます。 スコープ情報に <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープが使用されたことが示された場合、スコープは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>と評価されます。  
  
    -   現在実行中のページが別のページから制御を転送した場合 (たとえば、<xref:System.Web.HttpServerUtility.Transfer%2A> メソッドを呼び出したために制御の転送が発生した場合など) は、ページのポストによってこの特定のチェックが行われないことに注意してください。前に実行していたページに <xref:System.Web.UI.WebControls.WebParts.WebPartManager> インスタンスがあった場合、スコープ `Personalization.Scope` は前の <xref:System.Web.UI.WebControls.WebParts.WebPartManager>  
  
    -   前の条件が満たされていない場合、スコープは現在の <xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールの <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> プロパティの値に評価されます。  
  
 前の評価を行った後、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープと評価された場合、次の処理が行われます。  
  
-   現在実行中のユーザーアカウントに <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能がある場合、スコープは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されたままになります。  
  
-   現在実行中のユーザーアカウントに <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能がない場合は、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>にリセットされます。  
  
-   以前のスコープ評価の結果が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>場合、この結果は、現在実行中のページに非表示フィールドとして格納されます。 これは、ページが後続のポストバック中にスコープの評価を再生できるようにするためのメカニズムです。  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> が <see langword="null" /> です。</exception>
        <exception cref="T:System.ArgumentException"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。</exception>
      </Docs>
    </Member>
    <Member MemberName="DetermineUserCapabilities">
      <MemberSignature Language="C#" Value="public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Collections.IDictionary DetermineUserCapabilities(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function DetermineUserCapabilities (webPartManager As WebPartManager) As IDictionary" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Collections::IDictionary ^ DetermineUserCapabilities(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary&#xA;override this.DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary" Usage="personalizationProvider.DetermineUserCapabilities webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化情報を管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <summary>現在実行中のユーザー アカウントのパーソナル化関連機能を表す <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> のインスタンスが含まれているディクショナリを返します。</summary>
        <returns>ユーザー アカウントが認証されている場合は、0 個以上の <see cref="T:System.Collections.IDictionary" /> のインスタンスが含まれている <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> を返します。実行中のユーザー アカウントが認証されていない場合は、<see langword="null" /> を返します。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドの既定の実装では、machine.config または web.config ファイルの ASP.NET 要素[(ASP.NET settings](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) schema) 構成セクションにある、web パーツのパーソナル化[要素 (ASP.NET settings](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) schema) 要素内の web パーツのパーソナル化 (settings schema) 要素内の Web[パーツの authorization 要素](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434)内の情報を使用して、ユーザーの承認された機能を決定します。  
  
 ディクショナリ内の機能は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> メソッドによって返される <xref:System.Collections.IList> オブジェクトのメンバーになります。このオブジェクトには、現在 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能と <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> 機能が含まれています。  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。  
  
または 
ページに関連付けられている要求が <see langword="null" /> です。</exception>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> が <see langword="null" /> です。</exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="abstract member FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int * int -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="personalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope">クエリされるパーソナル化情報が存在する <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。 この値を <see langword="null" /> にすることはできません。</param>
        <param name="query">クエリを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />。 この値には <see langword="null" /> を指定できます。</param>
        <param name="pageIndex">クエリが開始される位置。</param>
        <param name="pageSize">返すレコードの数。</param>
        <param name="totalRecords">レコード数の合計。</param>
        <summary>派生クラスでオーバーライドされると、スコープおよび固有のクエリ パラメーターに基づき 0 個以上の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" /> 派生オブジェクトが含まれているコレクションを返します。</summary>
        <returns>0 個以上の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" /> 派生オブジェクトを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データをクエリするための管理メソッドの抽象定義です。 派生実装は、以下で説明するロジックに従う必要があります。  
  
 返される項目のセットは、`pageIndex` パラメーターと `pageSize` パラメーターによって制限されます。 `pageSize` は、返されるレコードの数を設定し、返されるレコードを設定 `pageIndex` ます。 たとえば、`pageIndex` が0で `pageSize` が25の場合、最初の25件が返されますが、1の `pageIndex` と25の `pageSize` が発生した場合は26-50 が返されます。 使用可能なすべてのレコードを取得する場合は、`pageIndex` を0に設定し、`pageSize` を <xref:System.Int32.MaxValue>に設定します。  
  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>派生オブジェクトはアルファベット順に返され、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> と <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> プロパティ値の組み合わせで並べ替えられます (両方とも昇順)。  
  
 このメソッドは、クエリのワイルドカード文字を基になるデータストアに渡します。 現在、ワイルドカード文字のサポートは、各プロバイダーがアスタリスク (*)、パーセント記号 (%)、またはアンダースコア (_) などの文字を処理する方法に依存しています。  
  
 通常、SQL 準拠のデータストアの場合、部分パスに対してワイルドカード検索を実行できます。ワイルドカード文字は、先頭、末尾、または <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティの検索文字列テキストの中央に表示されます。 たとえば、"\~/vdir" で始まるすべてのパスを検索するには、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティを "\~/vdir%" に設定します。  
  
 同様に、部分的なユーザー名のワイルドカード検索では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティのテキスト文字列内の任意の位置にワイルドカード文字が表示される場合があります。 たとえば、"John" で始まるすべてのユーザー名を検索するために、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> パラメーターは "John%" のようになります。  
  
 次のクエリ制約が適用されます。  
  
-   `scope` のみが指定され、`query` が `null` か、または `query` のすべてのプロパティが `null` または既定値を返す場合、指定された `scope` パラメーターに一致するすべてのレコードが返されます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティが `null`でない場合は、返されたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> 値に一致するパスに基づいてフィルター処理されます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティが `null`でない場合は、返されたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティ値と一致するユーザー名に基づいてフィルター処理されます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティが <xref:System.DateTime.MaxValue>と等しくない場合は、返されるレコードもフィルター処理され、アクティブでないユーザーに関連付けられているレコードのみが返されます。 この比較には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> プロパティが <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティ以下のレコードが含まれます。  
  
 このメソッドでは、クエリパラメーターの組み合わせは検証されないことに注意してください。 たとえば、コードでは、共有スコープ内の特定のユーザー名に関連付けられたパーソナル化状態レコードのセットを要求できます。 ユーザー名は共有情報に関連付けられていないため、返されるコレクションは空になります。  
  
 空でないコレクションを返す可能性があるパラメーターの組み合わせには、次のものがあります。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティと組み合わせて使用します。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>、および <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティのいずれかまたはすべての値と組み合わせて使用されます。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="abstract member GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="personalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope">クエリされるパーソナル化情報の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。 この値を <see langword="null" /> にすることはできません。</param>
        <param name="query">クエリを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />。 この値には <see langword="null" /> を指定できます。</param>
        <summary>派生クラスでオーバーライドされると、指定したスコープ内に存在する基になるデータ ストア内の行数を返します。</summary>
        <returns>指定した <paramref name="scope" /> パラメーターに存在する、基になるデータ ストア内の行数。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データの数を取得するための管理メソッドの抽象定義です。 派生実装は、以下で説明するロジックに従う必要があります。  
  
 このメソッドは、クエリのワイルドカード文字を基になるデータストアに渡します。 現在、ワイルドカード文字のサポートは、各プロバイダーがアスタリスク (*)、パーセント記号 (%)、またはアンダースコア (_) などの文字を処理する方法に依存しています。  
  
 通常、SQL 準拠のデータストアの場合、部分パスに対してワイルドカード検索を実行できます。ワイルドカード文字は、先頭、末尾、または <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティの検索文字列テキストの中央に表示されます。 たとえば、"\~/vdir" で始まるすべてのパスを検索するには、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティを "\~/vdir%" に設定します。  
  
 同様に、部分的なユーザー名のワイルドカード検索では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティのテキスト文字列内の任意の位置にワイルドカード文字が表示される場合があります。 たとえば、"John" で始まるすべてのユーザー名を検索するために、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> パラメーターは "John%" のようになります。  
  
 次のクエリ制約が適用されます。  
  
-   `scope` のみが指定され、`query` が `null` か、または `query` のすべてのプロパティが `null` または既定値を返す場合、指定した `scope` パラメーターに一致するすべてのレコードがカウントされます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティが `null`でない場合は、カウントされたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> 値に一致するパスに基づいてフィルター処理されます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティが `null`でない場合は、カウントされたレコードも、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティ値と一致するユーザー名に基づいてフィルター処理されます。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティが <xref:System.DateTime.MaxValue>と等しくない場合は、カウントされたレコードもフィルター処理され、アクティブでないユーザーに関連付けられているレコードのみが返されます。 この比較には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> プロパティが <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティ以下のレコードが含まれます。  
  
 このメソッドでは、クエリパラメーターの組み合わせは検証されないことに注意してください。 たとえば、コードでは、共有スコープ内の特定のユーザー名に関連付けられたパーソナル化状態レコードの数を要求できます。 ユーザー名は共有情報に関連付けられていないため、返されるカウントはゼロになります。  
  
 0以外のカウントを返す可能性があるパラメーターの組み合わせには、次のようなものがあります。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティと組み合わせて使用します。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>、および <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティのいずれかまたはすべての値と組み合わせて使用されます。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub LoadPersonalizationBlobs (webPartManager As WebPartManager, path As String, userName As String, ByRef sharedDataBlob As Byte(), ByRef userDataBlob As Byte())" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * Byte[] * Byte[] -&gt; unit" Usage="personalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <param name="path">取得キーとして使用されるパーソナル化情報のパス。</param>
        <param name="userName">取得キーとして使用されるパーソナル化情報のユーザー名。</param>
        <param name="sharedDataBlob"><see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> スコープに返されたデータ。</param>
        <param name="userDataBlob"><see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> スコープに返されたデータ。</param>
        <summary>派生クラス内でオーバーライドされると、基になるデータ ストアから生のパーソナル化データを読み込みます。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するクラスでは、`webPartManager`、`path`、および `username` のパラメーターを取得キーとして使用する必要があります。 データがデータストアにどのように格納されているかに関係なく (一部のデータストアは、何らかの種類のインテリジェントストレージを実行する場合があります)、パーソナル化データは2つの配列のパックされたバイトのセットとして返される必要があります。 返されるデータは、次の規則に従う必要があります。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープのデータは、常に `sharedDataBlob` パラメーターで返される必要があります。  
  
-   キーの値によって <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データが `userDataBlob` パラメーターに返されます。 `userName` パラメーターの`null` 以外の値は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データも取得する必要があることを示します。  
  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するパーソナル化プロバイダーは、1回のラウンドトリップですべてのパーソナル化データを取得することで、データストアとの対話を最適化できます。これは、2つの異なるラウンドトリップで <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データを取得することではありません。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function LoadPersonalizationState (webPartManager As WebPartManager, ignoreCurrentUser As Boolean) As PersonalizationState" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationState ^ LoadPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState&#xA;override this.LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState" Usage="personalizationProvider.LoadPersonalizationState (webPartManager, ignoreCurrentUser)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationState</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="ignoreCurrentUser" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <param name="ignoreCurrentUser">そのユーザー名がパーソナル化プロバイダーに渡される必要があるかどうかを示している <see cref="T:System.Boolean" />。</param>
        <summary>基になるデータ ストアから生のデータを読み込み、そのデータを <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> オブジェクトに変換します。</summary>
        <returns>パーソナル化データを格納している <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データを読み込むために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。 既定の実装は、基になるデータストアから生データを読み込み (派生プロバイダーで機能が実装されます)、その後、生データを <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> インスタンスに変換します。  
  
 `ignoreCurrentUser` パラメーターが `true`の場合、ユーザー名は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> メソッドに渡されません。 パーソナル化プロバイダーはこれを解釈することを選択できます。これは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを持つパーソナル化状態のみが基になるデータストアから取得されることを意味します。  
  
 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> メソッドが実行されている場合は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> メソッドを呼び出し、状態の読み込み中に発生する可能性がある逆シリアル化エラーには3つの種類があります。 これらの特定のエラーが発生すると、例外はスローされず、正常性の監視機能によってエラーイベントがログに記録されます (正常性の監視とそれによって作成されたログへのアクセスについては、「 [ASP.NET Health monitoring の概要](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)」を参照してください)。 次の3つのシナリオでは、シリアル化解除エラーイベントがログに書き込まれます。  
  
-   文字列 <xref:System.ComponentModel.TypeConverter>を使用するプロパティ型を逆シリアル化しようとしましたが、失敗しました。  
  
-   バイナリシリアル化を使用するプロパティ型を逆シリアル化しようとしましたが、失敗しました。  
  
-   型のインスタンスを作成できないため、プロパティ型の逆シリアル化に失敗しました。  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> は <see langword="null" /> です。</exception>
        <exception cref="T:System.ArgumentException"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。  
  
または 
ページに関連付けられている要求が <see langword="null" /> です。</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub ResetPersonalizationBlob (webPartManager As WebPartManager, path As String, userName As String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="personalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <param name="path">データ ストア キーとして使用されるパーソナル化情報のパス。</param>
        <param name="userName">データ ストア キーとして使用されるパーソナル化情報のユーザー名。</param>
        <summary>派生クラス内でオーバーライドされると、基になるデータ ストアから生のパーソナル化データを削除します。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するクラスでは、`webPartManager`、`path`、および `userName` のパラメーターをストレージキーとして使用する必要があります。 派生実装では、指定されたストレージキーのパーソナル化データが実質的に削除されるように、データストアを変更する必要があります。 これは、この実装が物理的にどのように実現しているかによって、派生した実装になります。  
  
 派生パーソナル化プロバイダーは、ページごとにパーソナル化データを区別できる必要があります。 さらに、特定のページの状態については、パーソナル化プロバイダーが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープデータを区別できる必要があります。 `null` ないユーザー名が指定されている場合は、リセット操作が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープに適用されます。それ以外の場合、リセット操作は <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープに適用されます。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub ResetPersonalizationState (webPartManager As WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ResetPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit&#xA;override this.ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit" Usage="personalizationProvider.ResetPersonalizationState webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <summary>パーソナル化データを基になるデータ ストアの状態にリセットします。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データをリセットするために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。 既定の実装では、<xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールを使用して、リセットするデータのパスとユーザー名を決定します。 次に、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> メソッドを呼び出します。  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><paramref name="webPartManager" /> が <see langword="null" /> です。</exception>
        <exception cref="T:System.ArgumentException"><paramref name="webPartManager" /> がページに関連付けられていません。  
  
または 
このページは、実行中の <see cref="T:System.Web.HttpRequest" /> に関連付けられていません。</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="abstract member ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="personalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope">リセットされるパーソナル化情報の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。 この値を <see langword="null" /> にすることはできません。</param>
        <param name="paths">削除されるパーソナル化情報のパス。</param>
        <param name="usernames">削除されるパーソナル化情報のユーザー名。</param>
        <summary>派生クラス内でオーバーライドされると、指定したパラメーターに基づいて、基になるデータ ストアからパーソナル化状態が削除されます。</summary>
        <returns>削除された行数。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データを削除するための管理メソッドの抽象定義です。 派生実装は、以下で説明するロジックに従う必要があります。  
  
 このメソッドでは、ワイルドカード文字検索はサポートされていません。 パーソナル化プロバイダーがトランザクション対応データストアからデータを公開する場合、このメソッドは1つのアトミックトランザクションとして操作を実行する必要があります。  
  
 次のパラメーターの組み合わせのみが許可されます。  
  
-   `scope` パラメーターが設定され、その他のすべてのパラメーターは `null`に設定されます。 この組み合わせは、`scope`によって示されるパーソナル化スコープに関連付けられているすべての Web パーツパーソナル化データを削除します。  
  
-   `scope` パラメーターが設定されており、`paths` パラメーターに少なくとも1つの値が含まれています。 この組み合わせは、`scope`によって示されるパーソナル化スコープ内の指定されたパスまたはパスのすべての Web パーツパーソナル化データを削除します。  
  
-   `scope` パラメーターが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>に設定されています。 `paths` パラメーターが設定され、1つの値のみが含まれています。また、`usernames` パラメーターには少なくとも1つの値が含まれています。 この組み合わせにより、`usernames`に含まれるユーザーまたはユーザーに関連付けられている特定のパスについて、すべてのユーザーの個人用設定 Web パーツデータが削除されます。  
  
-   `scope` パラメーターが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>に設定されています。 `paths` パラメーターが `null`に設定されており、`usernames` パラメーターに少なくとも1つの値が含まれています。 この組み合わせにより、`usernames`に含まれるユーザーまたはユーザーに関連付けられているすべてのパスで、ユーザーごとのパーソナル化 Web パーツデータがすべて削除されます。  
  
 その他のパラメーター値の組み合わせは無効であるため、<xref:System.ArgumentException> 例外がスローされます。 具体的には、次の2つの組み合わせは使用できません。  
  
-   `scope` が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されている場合、`usernames` パラメーターを指定することはできません。  
  
-   `usernames` パラメーターが `null`ない場合、`paths` パラメーターに複数のエントリを含めることはできません。  
  
 各配列内に含まれるすべての `paths` および `usernames` パラメーター値は、次の検証規則を満たしている必要があります。 パラメーター配列のメンバーに対していずれかの検証規則が失敗した場合は、<xref:System.ArgumentException> 例外がスローされます。 検証規則は次のとおりです。  
  
-   `null` 値は使用できません。  
  
-   空の文字列 ("") は使用できません。 空の文字列チェックを実行する前に、パラメーターを削除する必要があります。  
  
-   `usernames` パラメーターにコンマ (,) を含めることはできません。  
  
-   SQL データベースでは、`paths` パラメーターの長さを256文字より大きくすることはできません。  
  
-   SQL データベースでは、`usernames` パラメーターの長さを256文字より大きくすることはできません。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="abstract member ResetUserState : string * DateTime -&gt; int" Usage="personalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path">削除されるパーソナル化データのパス。 この値に <see langword="null" /> は使用できますが、空の文字列 ("") は使用できません。</param>
        <param name="userInactiveSinceDate">Web サイトのユーザーがパーソナル化データを最後に変更した日付。</param>
        <summary>派生クラス内でオーバーライドされると、指定したパラメーターに基づいて、Web パーツ パーソナル化データが基になるデータ ストアから削除されます。</summary>
        <returns>基になるデータ ストアから削除された行数。</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データを削除するための管理メソッドの抽象定義です。 このメソッドは、共有データではなく、ユーザーのパーソナル化データにのみ影響することに注意してください。  
  
 派生実装は、以下で説明するロジックに従う必要があります。  
  
-   `path` パラメーターには、ワイルドカード文字を含めることはできません。  
  
-   プロバイダーがトランザクション対応データストアからデータを公開する場合、このメソッドは1つのアトミックトランザクションで操作を実行する必要があります。  
  
-   `path` パラメーターが非`null`の場合、`path` に関連付けられているユーザーごとの個人用設定レコードのみが削除されます。  
  
-   `userInactiveSinceDate` パラメーターに示された日付以降、非アクティブと見なされるユーザーに関連付けられたユーザーごとの個人用設定レコードのみが削除されます。 具体的には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> が <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> 以下のレコードは削除されます。  
  
-   両方のパラメーターが指定されている場合、両方の制約に一致するレコードが削除されます。  
  
-   `path` パラメーターは `null`できます。  
  
-   `path` パラメーターを空の文字列にすることはできません。 このチェックを実行する前に、削除する必要があります。  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティを `null` にすることはできません。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub SavePersonalizationBlob (webPartManager As WebPartManager, path As String, userName As String, dataBlob As Byte())" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="personalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</param>
        <param name="path">データ ストア キーとして使用されるパーソナル化情報のパス。</param>
        <param name="userName">キーとして使用されるパーソナル化情報のユーザー名。</param>
        <param name="dataBlob">保存されるバイト配列のデータ。</param>
        <summary>派生クラス内でオーバーライドされると、基になるデータ ストアに生のパーソナル化データを保存します。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、基になるデータストアに生のパーソナル化データを保存するために使用されるメソッドの抽象定義です。  
  
 派生実装では、`webPartManager`、`path`、および `userName` パラメーターをストレージキーとして使用する必要があります。 派生パーソナル化プロバイダーは、ページごとにパーソナル化データを区別できる必要があります。 さらに、特定のページの状態については、プロバイダーは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープを区別できる必要があります。 `null` 以外のユーザー名が指定されている場合、`dataBlob` パラメーターは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープにあります。それ以外の場合、`dataBlob` パラメーターは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープ内にあると見なされます。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SavePersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SavePersonalizationState (state As PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SavePersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationState ^ state);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit&#xA;override this.SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit" Usage="personalizationProvider.SavePersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="state">保存されるパーソナル化データを格納している <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />。</param>
        <summary>パーソナル化データをデータ ストアに保存します。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 このメソッドは、パーソナル化データを保存するために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。  
  
 このメソッドの既定の実装では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationState> の内部実装のメソッドを使用して、パーソナル化データをバイト配列にパックします。 このパッキングの結果で空のバイト配列が作成された場合 (プロパティの抽出によってパーソナル化データが生成されなかったため)、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> メソッドを呼び出します。 それ以外の場合、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> メソッドを呼び出します。  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><paramref name="state" /> が <see langword="null" /> です。</exception>
        <exception cref="T:System.ArgumentException">保存される <paramref name="state" /> オブジェクトの型が、<paramref name="state" /> メソッドから返された <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" /> オブジェクトと異なります。</exception>
      </Docs>
    </Member>
  </Members>
</Type>
