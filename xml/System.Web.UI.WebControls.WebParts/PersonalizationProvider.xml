<Type Name="PersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.PersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="d603d7964d57083f954418f6535bd9d25b1a0e8b" /><Meta Name="ms.sourcegitcommit" Value="1b924db57b3a1cf768d98c21f9b988d6966a0f2b" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ja-JP" /><Meta Name="ms.lasthandoff" Value="03/06/2020" /><Meta Name="ms.locfileid" Value="78765326" /></Metadata><TypeSignature Language="C#" Value="public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit PersonalizationProvider extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class PersonalizationProvider&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class PersonalizationProvider abstract : System::Configuration::Provider::ProviderBase" />
  <TypeSignature Language="F#" Value="type PersonalizationProvider = class&#xA;    inherit ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="29d63-101">パーソナル化プロバイダーの基本機能を実装します。</span><span class="sxs-lookup"><span data-stu-id="29d63-101">Implements the basic functionality for a personalization provider.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-102">これは、パーソナル化プロバイダーの必要な機能を定義する抽象基本クラスです。</span><span class="sxs-lookup"><span data-stu-id="29d63-102">This is the abstract base class that defines the required functionality of a personalization provider.</span></span> <span data-ttu-id="29d63-103">パーソナル化プロバイダーは、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> インスタンスの代わりにパーソナル化データを読み込んで格納します。</span><span class="sxs-lookup"><span data-stu-id="29d63-103">A personalization provider both loads and stores personalization data on behalf of a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance.</span></span>  
  
 <span data-ttu-id="29d63-104">基本クラスは、さまざまなメソッドの標準動作を定義します。基になるデータストアを処理するメソッドだけが abstract としてマークされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-104">The base class defines standard behavior for a number of methods; only those methods that specifically deal with the underlying data store are marked abstract.</span></span> <span data-ttu-id="29d63-105">これにより、開発者は、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用される標準機能を再実装する必要なく、特定のデータストアと対話するためのカスタムプロバイダーを作成できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-105">This allows a developer to write a custom provider to interact with a specific data store, without needing to re-implement standard functionality used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class.</span></span>  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides"><para><span data-ttu-id="29d63-106"><see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> から派生させ、このクラスで定義されている抽象メソッドに対してのみ実装を提供できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-106">You can derive from <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> and provide implementations for only the abstract methods defined in this class.</span></span> <span data-ttu-id="29d63-107">抽象メソッドは、物理的なデータストアにデータを保存して読み込むこと、およびデータストア管理を使用することに特に対処します。</span><span class="sxs-lookup"><span data-stu-id="29d63-107">The abstract methods deal specifically with saving and loading data to a physical data store, and with data store administration.</span></span> <span data-ttu-id="29d63-108">カスタムプロバイダーは、<see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> データの <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> データを区別する方法でパーソナル化情報を操作できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-108">A custom provider must be capable of manipulating personalization information in a manner that distinguishes <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> data from <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> data.</span></span> <span data-ttu-id="29d63-109">さらに、プロバイダーは、パーソナル化データをページごと、およびアプリケーションごとに分割する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-109">Furthermore, a provider must segment personalization data by page as well as by application.</span></span>  
  
<span data-ttu-id="29d63-110"><see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> の実装は、いくつかのパーソナル化プロバイダーメソッドが <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />派生クラスのインスタンスを返すため、<see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> の実装と緊密に結合されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-110">Implementations of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> are tightly coupled to implementations of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> because some personalization provider methods return instances of <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />-derived classes.</span></span> <span data-ttu-id="29d63-111">カスタムプロバイダーの開発を簡単にするために、<see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> 基本クラスには、<see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> クラスによって直接使用されるパーソナル化ロジックとシリアル化/逆シリアル化のロジックの既定の実装が含まれています。</span><span class="sxs-lookup"><span data-stu-id="29d63-111">To ease development of custom providers, the <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> base class includes a default implementation of the personalization logic and serialization/deserialization logic that is used directly by the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> class.</span></span> <span data-ttu-id="29d63-112">そのため、別のデータストアを操作するためだけにカスタムプロバイダーを作成するには、次の抽象メソッドを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-112">As a result, authoring a custom provider solely for the purpose of working with a different data store only requires implementation of the following abstract methods:</span></span> <span data-ttu-id="29d63-113">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />-このメソッドは、指定されたクエリパラメーターについて、データベース内のパーソナル化データの行数をカウントできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-113">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" /> - This method needs to be able to count the number of rows of personalization data in the database for the supplied query parameters.</span></span>  
  <span data-ttu-id="29d63-114">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />-パスとユーザー名を指定すると、このメソッドは2つのバイナリラージオブジェクト (Blob) をデータベースから読み込みます。1つは共有データ用の BLOB、もう1つはユーザーデータ用です。</span><span class="sxs-lookup"><span data-stu-id="29d63-114">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" /> - Given the path and user name, this method loads two binary large objects (BLOBs) from the database: one BLOB for shared data and one for user data.</span></span> <span data-ttu-id="29d63-115">ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="29d63-115">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  <span data-ttu-id="29d63-116">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />-パスとユーザー名を指定すると、このメソッドによってデータベース内の対応する行が削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-116">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" /> - Given the path and user name, this method deletes the corresponding row in the database.</span></span> <span data-ttu-id="29d63-117">ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="29d63-117">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  <span data-ttu-id="29d63-118">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />-パスとユーザー名を指定して、このメソッドは指定された BLOB をデータベースに保存します。</span><span class="sxs-lookup"><span data-stu-id="29d63-118">
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" /> - Given the path and user name, this method saves the supplied BLOB to the database.</span></span> <span data-ttu-id="29d63-119">ユーザー名とパスを指定した場合は、ユーザー名/パス情報を提供できるページ情報にアクセスするために <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> コントロールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="29d63-119">If you supply the user name and path, then you do not need the <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> control to access the page information that can provide the user name/path information.</span></span>  
  
<span data-ttu-id="29d63-120">これらのメソッドでは、パスのみが指定されている場合、そのページの共有パーソナル化データが操作されていることを示します。</span><span class="sxs-lookup"><span data-stu-id="29d63-120">In all of these methods, if only a path is supplied, that indicates the shared personalization data for the page is being operated upon.</span></span> <span data-ttu-id="29d63-121">パスとユーザー名の両方がメソッドに渡された場合、ページのユーザーのパーソナル化データが処理されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-121">If both a path and a username are passed to a method, then the user personalization data for the page should be acted upon.</span></span> <span data-ttu-id="29d63-122"><see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />の場合は、指定されたパスの共有データを常に読み込む必要があります。また、ユーザー名が <see langword="null" />ない場合は、必要に応じてパスのユーザーのパーソナル化データも読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-122">In the case of <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />, the shared data for the specified path should always be loaded, and optionally the user personalization data for the path should also be loaded if the username is not <see langword="null" />.</span></span>  
  
<span data-ttu-id="29d63-123">その他のすべての抽象メソッドは、管理アプリケーションでのみ使用することを意図しており、実行時に Web パーツインフラストラクチャによって使用されることはありません。</span><span class="sxs-lookup"><span data-stu-id="29d63-123">All other abstract methods are intended for use only in administrative applications and are not used by the Web Parts infrastructure at run time.</span></span> <span data-ttu-id="29d63-124">パーソナル化プロバイダーの実装の例については、<see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> クラスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="29d63-124">For an example of an implementation of a personalization provider, see the <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> class.</span></span></para></block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/e0s9t4ck(v=vs.100)"><span data-ttu-id="29d63-125">ASP.NET Web パーツコントロール</span><span class="sxs-lookup"><span data-stu-id="29d63-125">ASP.NET Web Parts Controls</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/z36h8be9(v=vs.100)"><span data-ttu-id="29d63-126">Web パーツパーソナル化の概要</span><span class="sxs-lookup"><span data-stu-id="29d63-126">Web Parts Personalization Overview</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/784d8z92(v=vs.100)"><span data-ttu-id="29d63-127">チュートリアル: ユーザーコントロールを使用して Web パーツパーソナル化を実装する</span><span class="sxs-lookup"><span data-stu-id="29d63-127">Walkthrough: Implementing Web Parts Personalization with a User Control</span></span></related>
    <related type="Article" href="https://docs.microsoft.com/previous-versions/aspnet/ms178182(v=vs.100)"><span data-ttu-id="29d63-128">Web パーツパーソナル化</span><span class="sxs-lookup"><span data-stu-id="29d63-128">Web Parts Personalization</span></span></related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected PersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; PersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="29d63-129"><see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="29d63-129">Initializes a new instance of the <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-130">これは抽象クラスのコンストラクターであるため、このクラスを継承するクラスのインスタンスを作成するには、このメソッドをオーバーライドする必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-130">Because this is a constructor for an abstract class, you must override this method to create an instance of a class that inherits from this class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public abstract string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="29d63-131">派生クラスでオーバーライドされると、プロバイダーに対して構成されたアプリケーションの名前を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-131">When overridden in a derived class, gets or sets the name of the application configured for the provider.</span></span></summary>
        <value><span data-ttu-id="29d63-132">パーソナル化プロバイダーに対して構成されたアプリケーション。</span><span class="sxs-lookup"><span data-stu-id="29d63-132">The application configured for the personalization provider.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-133">構成ファイルにアプリケーション名が指定されていない場合、 [Web パーツのパーソナル化 (ASP.NET Settings Schema) 属性の Providers 要素](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195)を使用して、<xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> プロパティの値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-133">If an application name is not specified in the configuration file using the [providers Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195) attribute, the value of the <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> property is used.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="29d63-134"><xref:System.Web.HttpApplication> オブジェクトによって処理されるすべての要求に対して1つの既定のパーソナル化プロバイダーインスタンスが使用されるため、複数の要求を同時に実行することができ、それぞれが <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティ値を設定しようとします。</span><span class="sxs-lookup"><span data-stu-id="29d63-134">Because a single, default personalization provider instance is used for all the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently, each attempting to set the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property value.</span></span> <span data-ttu-id="29d63-135"><xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティは、複数の書き込みに対してスレッドセーフではありません。 <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティ値を変更すると、アプリケーションの複数のユーザーに対して予期しない動作が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-135">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property is not thread-safe for multiple writes, and changing the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property value can result in unexpected behavior for multiple users of an application.</span></span> <span data-ttu-id="29d63-136">必要な場合を除き、ユーザーが <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティを設定できるコードを避けることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="29d63-136">It is recommended that you avoid code allowing users to set the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property unless required.</span></span> <span data-ttu-id="29d63-137">たとえば、複数のアプリケーションのパーソナル化データを管理する管理アプリケーションでは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> プロパティの設定が必要になることがあります。</span><span class="sxs-lookup"><span data-stu-id="29d63-137">Setting the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> property might be required, for example, in an administrative application that manages personalization data for multiple applications.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSupportedUserCapabilities">
      <MemberSignature Language="C#" Value="protected virtual System.Collections.IList CreateSupportedUserCapabilities ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Collections.IList CreateSupportedUserCapabilities() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateSupportedUserCapabilities () As IList" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Collections::IList ^ CreateSupportedUserCapabilities();" />
      <MemberSignature Language="F#" Value="abstract member CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList&#xA;override this.CreateSupportedUserCapabilities : unit -&gt; System.Collections.IList" Usage="personalizationProvider.CreateSupportedUserCapabilities " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IList</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="29d63-138">Web パーツ コントロール セットによって使用される一連の既知の機能を表す <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> オブジェクトのリストを返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-138">Returns a list of <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> objects that represent the set of known capabilities used by the Web Parts control set.</span></span></summary>
        <returns><span data-ttu-id="29d63-139">Web パーツ コントロール セットによって使用される一連の既知の機能を表す <see cref="T:System.Collections.IList" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-139">An <see cref="T:System.Collections.IList" /> that represents the set of known capabilities used by the Web Parts control set.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-140">現在、このメソッドは、<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> と <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>の2つの機能を含むリストを返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-140">Currently, this method returns a list containing two capabilities: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> and <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>.</span></span> <span data-ttu-id="29d63-141">これらは、[ [web パーツ要素 (ASP.NET settings](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) schema)] 構成セクションの [ [web パーツのパーソナル化] (ASP.NET 設定スキーマ)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09)要素内にある [ [web パーツのパーソナル化] (ASP.NET settings schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434)要素で定義できる既定の機能です。</span><span class="sxs-lookup"><span data-stu-id="29d63-141">These are the default capabilities that can be defined in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the [webParts Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section.</span></span> <span data-ttu-id="29d63-142">カスタムパーソナル化インフラストラクチャを実装することを選択した場合は、このメソッドをオーバーライドして、独自の承認関連ユーザー機能のセットを定義できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-142">If you choose to implement a custom personalization infrastructure, you can override this method and define your own set of authorization-related user capabilities.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DetermineInitialScope">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, class System.Web.UI.WebControls.WebParts.PersonalizationState loadedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function DetermineInitialScope (webPartManager As WebPartManager, loadedState As PersonalizationState) As PersonalizationScope" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationScope DetermineInitialScope(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::Web::UI::WebControls::WebParts::PersonalizationState ^ loadedState);" />
      <MemberSignature Language="F#" Value="abstract member DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope&#xA;override this.DetermineInitialScope : System.Web.UI.WebControls.WebParts.WebPartManager * System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; System.Web.UI.WebControls.WebParts.PersonalizationScope" Usage="personalizationProvider.DetermineInitialScope (webPartManager, loadedState)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationScope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="loadedState" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-143">パーソナル化情報を管理する <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-143">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> that manages the personalization information.</span></span></param>
        <param name="loadedState"><span data-ttu-id="29d63-144">パーソナル化状態情報。</span><span class="sxs-lookup"><span data-stu-id="29d63-144">The personalization state information.</span></span></param>
        <summary><span data-ttu-id="29d63-145">初期パーソナル化スコープが、<see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> スコープと <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> スコープのどちらであるかを判断します。</span><span class="sxs-lookup"><span data-stu-id="29d63-145">Determines whether the initial personalization scope should be <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> or <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> scope.</span></span></summary>
        <returns><span data-ttu-id="29d63-146">現在のパーソナル化スコープが <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> と <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> のどちらであるかを示す <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-146">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> indicating whether the current personalization scope is <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> or <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-147">このメソッドは、<xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールへの参照と、パーソナル化ライフサイクルの前から既に読み込まれているパーソナル化状態情報を指定した場合に、現在のスコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> または <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-147">This method determines whether the current scope should be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> or <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, given a reference to a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control and the personalization state information that has already been loaded from earlier in the personalization life cycle.</span></span> <span data-ttu-id="29d63-148">この情報は、後続のパーソナル化関連タスクの <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> インスタンスによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-148">This information is used by a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance for subsequent personalization-related tasks.</span></span>  
  
 <span data-ttu-id="29d63-149">次の規則は、個人用設定のスコープを決定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-149">The following rules are used to determine personalization scope:</span></span>  
  
-   <span data-ttu-id="29d63-150">スコープは、最初は <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>されることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="29d63-150">Scope is assumed initially to be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span></span>  
  
-   <span data-ttu-id="29d63-151">現在実行中のユーザーアカウントが認証されていない場合は、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-151">If the currently executing user account is not authenticated, the scope is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="29d63-152">現在実行中のユーザーアカウントが認証されている場合、追加の処理は優先順位に従って行われます。</span><span class="sxs-lookup"><span data-stu-id="29d63-152">If the currently executing user account is authenticated, additional processing occurs in order of precedence:</span></span>  
  
    -   <span data-ttu-id="29d63-153">ページがポストバックモードの場合、ページ要求には、ページの前のレンダリングからのスコープ情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="29d63-153">If the page is in postback mode, the page request contains scope information from a previous rendering of the page.</span></span> <span data-ttu-id="29d63-154">スコープ情報に <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープが使用されたことが示された場合、スコープは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>と評価されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-154">If that scope information indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope was used, then the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
    -   <span data-ttu-id="29d63-155">現在実行中のページが別のページから制御を転送した場合 (たとえば、<xref:System.Web.HttpServerUtility.Transfer%2A> メソッドを呼び出したために制御の転送が発生した場合など) は、ページのポストによってこの特定のチェックが行われないことに注意してください。前に実行していたページに <xref:System.Web.UI.WebControls.WebParts.WebPartManager> インスタンスがあった場合、スコープ `Personalization.Scope` は前の <xref:System.Web.UI.WebControls.WebParts.WebPartManager></span><span class="sxs-lookup"><span data-stu-id="29d63-155">If the currently executing page had control transferred to it from another page (for example, if the transfer of control occurred due to calling the <xref:System.Web.HttpServerUtility.Transfer%2A> method; note that this specific check does not occur for cross-page posting), and if the previously executing page had a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance, the scope is set to the value of the `Personalization.Scope` property from the previous <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance.</span></span>  
  
    -   <span data-ttu-id="29d63-156">前の条件が満たされていない場合、スコープは現在の <xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールの <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> プロパティの値に評価されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-156">If the previous criteria are not met, then the scope evaluates to the value of the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> property for the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.</span></span>  
  
 <span data-ttu-id="29d63-157">前の評価を行った後、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープと評価された場合、次の処理が行われます。</span><span class="sxs-lookup"><span data-stu-id="29d63-157">After the previous evaluations have been made, and if the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope, the following processing occurs:</span></span>  
  
-   <span data-ttu-id="29d63-158">現在実行中のユーザーアカウントに <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能がある場合、スコープは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されたままになります。</span><span class="sxs-lookup"><span data-stu-id="29d63-158">If the currently executing user account has the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, the scope remains set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="29d63-159">現在実行中のユーザーアカウントに <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能がない場合は、スコープが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>にリセットされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-159">If the currently executing user account does not have the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, then the scope is reset to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.</span></span>  
  
-   <span data-ttu-id="29d63-160">以前のスコープ評価の結果が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>場合、この結果は、現在実行中のページに非表示フィールドとして格納されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-160">If the result of all previous scope evaluations is <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, this result is stored as a hidden field on the currently executing page.</span></span> <span data-ttu-id="29d63-161">これは、ページが後続のポストバック中にスコープの評価を再生できるようにするためのメカニズムです。</span><span class="sxs-lookup"><span data-stu-id="29d63-161">This is the mechanism whereby a page can replay the scope evaluation during subsequent postbacks.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="29d63-162"><paramref name="webPartManager" /> が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-162"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="29d63-163"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-163">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="DetermineUserCapabilities">
      <MemberSignature Language="C#" Value="public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Collections.IDictionary DetermineUserCapabilities(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function DetermineUserCapabilities (webPartManager As WebPartManager) As IDictionary" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Collections::IDictionary ^ DetermineUserCapabilities(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary&#xA;override this.DetermineUserCapabilities : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; System.Collections.IDictionary" Usage="personalizationProvider.DetermineUserCapabilities webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-164">パーソナル化情報を管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-164">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization information.</span></span></param>
        <summary><span data-ttu-id="29d63-165">現在実行中のユーザー アカウントのパーソナル化関連機能を表す <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> のインスタンスが含まれているディクショナリを返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-165">Returns a dictionary containing <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> instances that represent the personalization-related capabilities of the currently executing user account.</span></span></summary>
        <returns><span data-ttu-id="29d63-166">ユーザー アカウントが認証されている場合は、0 個以上の <see cref="T:System.Collections.IDictionary" /> のインスタンスが含まれている <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> を返します。実行中のユーザー アカウントが認証されていない場合は、<see langword="null" /> を返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-166">An <see cref="T:System.Collections.IDictionary" /> containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" /> instances if the user account is authenticated, or <see langword="null" /> if the executing user account is not authenticated.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-167">このメソッドの既定の実装では、machine.config または web.config ファイルの ASP.NET 要素[(ASP.NET settings](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) schema) 構成セクションにある、web パーツのパーソナル化[要素 (ASP.NET settings](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) schema) 要素内の web パーツのパーソナル化 (settings schema) 要素内の Web[パーツの authorization 要素](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434)内の情報を使用して、ユーザーの承認された機能を決定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-167">The default implementation of this method consumes the information in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the [webParts Element (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section in the Machine.config or Web.config file to determine a user's authorized capabilities.</span></span>  
  
 <span data-ttu-id="29d63-168">ディクショナリ内の機能は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> メソッドによって返される <xref:System.Collections.IList> オブジェクトのメンバーになります。このオブジェクトには、現在 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> 機能と <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> 機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="29d63-168">The capabilities in the dictionary will be members of the <xref:System.Collections.IList> object returned by the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> method, which currently include the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability and the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> capability.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="29d63-169"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-169">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="29d63-170">または</span><span class="sxs-lookup"><span data-stu-id="29d63-170">-or-</span></span> 
<span data-ttu-id="29d63-171">ページに関連付けられている要求が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-171">The request associated with the page is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="29d63-172"><paramref name="webPartManager" /> が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-172"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="abstract member FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int * int -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="personalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="29d63-173">クエリされるパーソナル化情報が存在する <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-173">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> with the personalization information to be queried.</span></span> <span data-ttu-id="29d63-174">この値を <see langword="null" /> にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-174">This value cannot be <see langword="null" />.</span></span></param>
        <param name="query"><span data-ttu-id="29d63-175">クエリを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-175">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" /> containing a query.</span></span> <span data-ttu-id="29d63-176">この値には <see langword="null" /> を指定できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-176">This value can be <see langword="null" />.</span></span></param>
        <param name="pageIndex"><span data-ttu-id="29d63-177">クエリが開始される位置。</span><span class="sxs-lookup"><span data-stu-id="29d63-177">The location where the query starts.</span></span></param>
        <param name="pageSize"><span data-ttu-id="29d63-178">返すレコードの数。</span><span class="sxs-lookup"><span data-stu-id="29d63-178">The number of records to return.</span></span></param>
        <param name="totalRecords"><span data-ttu-id="29d63-179">レコード数の合計。</span><span class="sxs-lookup"><span data-stu-id="29d63-179">The total number of records available.</span></span></param>
        <summary><span data-ttu-id="29d63-180">派生クラスでオーバーライドされると、スコープおよび固有のクエリ パラメーターに基づき 0 個以上の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" /> 派生オブジェクトが含まれているコレクションを返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-180">When overridden in a derived class, returns a collection containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />-derived objects based on scope and specific query parameters.</span></span></summary>
        <returns><span data-ttu-id="29d63-181">0 個以上の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" /> 派生オブジェクトを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-181">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" /> containing zero or more <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />-derived objects.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-182">このメソッドは、パーソナル化データをクエリするための管理メソッドの抽象定義です。</span><span class="sxs-lookup"><span data-stu-id="29d63-182">This method is the abstract definition of an administrative method for querying personalization data.</span></span> <span data-ttu-id="29d63-183">派生実装は、以下で説明するロジックに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-183">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="29d63-184">返される項目のセットは、`pageIndex` パラメーターと `pageSize` パラメーターによって制限されます。 `pageSize` は、返されるレコードの数を設定し、返されるレコードを設定 `pageIndex` ます。</span><span class="sxs-lookup"><span data-stu-id="29d63-184">The set of returned items is constrained by the `pageIndex` and `pageSize` parameters, where `pageSize` sets the number of records to return and `pageIndex` sets which records to return.</span></span> <span data-ttu-id="29d63-185">たとえば、`pageIndex` が0で `pageSize` が25の場合、最初の25件が返されますが、1の `pageIndex` と25の `pageSize` が発生した場合は26-50 が返されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-185">For example, a `pageIndex` of 0 and a `pageSize` of 25 would return the first 25 occurrences, while a `pageIndex` of 1 and a `pageSize` of 25 would return occurrences 26-50.</span></span> <span data-ttu-id="29d63-186">使用可能なすべてのレコードを取得する場合は、`pageIndex` を0に設定し、`pageSize` を <xref:System.Int32.MaxValue>に設定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-186">If you want to retrieve all available records, set `pageIndex` to 0 and `pageSize` to <xref:System.Int32.MaxValue>.</span></span>  
  
 <span data-ttu-id="29d63-187"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>派生オブジェクトはアルファベット順に返され、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> と <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> プロパティ値の組み合わせで並べ替えられます (両方とも昇順)。</span><span class="sxs-lookup"><span data-stu-id="29d63-187">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-derived objects are returned in alphabetical order and sorted by a combination of their <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> and <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> property values, both in ascending order.</span></span>  
  
 <span data-ttu-id="29d63-188">このメソッドは、クエリのワイルドカード文字を基になるデータストアに渡します。</span><span class="sxs-lookup"><span data-stu-id="29d63-188">This method passes query wildcard characters to the underlying data store.</span></span> <span data-ttu-id="29d63-189">現在、ワイルドカード文字のサポートは、各プロバイダーがアスタリスク (\*)、パーセント記号 (%)、またはアンダースコア (_) などの文字を処理する方法に依存しています。</span><span class="sxs-lookup"><span data-stu-id="29d63-189">Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (\*), a percent symbol (%), or an underscore (_).</span></span>  
  
 <span data-ttu-id="29d63-190">通常、SQL 準拠のデータストアの場合、部分パスに対してワイルドカード検索を実行できます。ワイルドカード文字は、先頭、末尾、または <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティの検索文字列テキストの中央に表示されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-190">Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span> <span data-ttu-id="29d63-191">たとえば、"\~/vdir" で始まるすべてのパスを検索するには、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティを "\~/vdir%" に設定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-191">For example, to find all paths that start with "\~/vdir", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to "\~/vdir%".</span></span>  
  
 <span data-ttu-id="29d63-192">同様に、部分的なユーザー名のワイルドカード検索では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティのテキスト文字列内の任意の位置にワイルドカード文字が表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-192">Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property.</span></span> <span data-ttu-id="29d63-193">たとえば、"John" で始まるすべてのユーザー名を検索するために、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> パラメーターは "John%" のようになります。</span><span class="sxs-lookup"><span data-stu-id="29d63-193">For example, to find all user names that start with "John", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like "John%".</span></span>  
  
 <span data-ttu-id="29d63-194">次のクエリ制約が適用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-194">The following query constraints apply:</span></span>  
  
-   <span data-ttu-id="29d63-195">`scope` のみが指定され、`query` が `null` か、または `query` のすべてのプロパティが `null` または既定値を返す場合、指定された `scope` パラメーターに一致するすべてのレコードが返されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-195">If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are returned.</span></span>  
  
-   <span data-ttu-id="29d63-196"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティが `null`でない場合は、返されたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> 値に一致するパスに基づいてフィルター処理されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-196">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the returned records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.</span></span>  
  
-   <span data-ttu-id="29d63-197"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティが `null`でない場合は、返されたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティ値と一致するユーザー名に基づいてフィルター処理されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-197">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the returned records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.</span></span>  
  
-   <span data-ttu-id="29d63-198"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティが <xref:System.DateTime.MaxValue>と等しくない場合は、返されるレコードもフィルター処理され、アクティブでないユーザーに関連付けられているレコードのみが返されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-198">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the returned records are also filtered to return only those records associated with inactive users.</span></span> <span data-ttu-id="29d63-199">この比較には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> プロパティが <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティ以下のレコードが含まれます。</span><span class="sxs-lookup"><span data-stu-id="29d63-199">The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.</span></span>  
  
 <span data-ttu-id="29d63-200">このメソッドでは、クエリパラメーターの組み合わせは検証されないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="29d63-200">Note that this method does not validate combinations of query parameters.</span></span> <span data-ttu-id="29d63-201">たとえば、コードでは、共有スコープ内の特定のユーザー名に関連付けられたパーソナル化状態レコードのセットを要求できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-201">For example, code can request a set of personalization state records associated with a specific user name in the shared scope.</span></span> <span data-ttu-id="29d63-202">ユーザー名は共有情報に関連付けられていないため、返されるコレクションは空になります。</span><span class="sxs-lookup"><span data-stu-id="29d63-202">Because user names are not associated with shared information, the returned collection would be empty.</span></span>  
  
 <span data-ttu-id="29d63-203">空でないコレクションを返す可能性があるパラメーターの組み合わせには、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="29d63-203">Parameter combinations that have the potential to return a non-empty collection include:</span></span>  
  
-   <span data-ttu-id="29d63-204"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティと組み合わせて使用します。</span><span class="sxs-lookup"><span data-stu-id="29d63-204"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span>  
  
-   <span data-ttu-id="29d63-205"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>、および <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティのいずれかまたはすべての値と組み合わせて使用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-205"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="abstract member GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="personalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="29d63-206">クエリされるパーソナル化情報の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-206">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> of the personalization information to be queried.</span></span> <span data-ttu-id="29d63-207">この値を <see langword="null" /> にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-207">This value cannot be <see langword="null" />.</span></span></param>
        <param name="query"><span data-ttu-id="29d63-208">クエリを含んでいる <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-208">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" /> containing a query.</span></span> <span data-ttu-id="29d63-209">この値には <see langword="null" /> を指定できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-209">This value can be <see langword="null" />.</span></span></param>
        <summary><span data-ttu-id="29d63-210">派生クラスでオーバーライドされると、指定したスコープ内に存在する基になるデータ ストア内の行数を返します。</span><span class="sxs-lookup"><span data-stu-id="29d63-210">When overridden in a derived class, returns the number of rows in the underlying data store that exist within the specified scope.</span></span></summary>
        <returns><span data-ttu-id="29d63-211">指定した <paramref name="scope" /> パラメーターに存在する、基になるデータ ストア内の行数。</span><span class="sxs-lookup"><span data-stu-id="29d63-211">The number of rows in the underlying data store that exist for the specified <paramref name="scope" /> parameter.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-212">このメソッドは、パーソナル化データの数を取得するための管理メソッドの抽象定義です。</span><span class="sxs-lookup"><span data-stu-id="29d63-212">This method is the abstract definition of an administrative method for retrieving counts of personalization data.</span></span> <span data-ttu-id="29d63-213">派生実装は、以下で説明するロジックに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-213">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="29d63-214">このメソッドは、クエリのワイルドカード文字を基になるデータストアに渡します。</span><span class="sxs-lookup"><span data-stu-id="29d63-214">This method passes query wildcard characters to the underlying data store.</span></span> <span data-ttu-id="29d63-215">現在、ワイルドカード文字のサポートは、各プロバイダーがアスタリスク (\*)、パーセント記号 (%)、またはアンダースコア (_) などの文字を処理する方法に依存しています。</span><span class="sxs-lookup"><span data-stu-id="29d63-215">Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (\*), a percent symbol (%), or an underscore (_).</span></span>  
  
 <span data-ttu-id="29d63-216">通常、SQL 準拠のデータストアの場合、部分パスに対してワイルドカード検索を実行できます。ワイルドカード文字は、先頭、末尾、または <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティの検索文字列テキストの中央に表示されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-216">Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span> <span data-ttu-id="29d63-217">たとえば、"\~/vdir" で始まるすべてのパスを検索するには、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティを "\~/vdir%" に設定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-217">For example, to find all paths that start with "\~/vdir", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to "\~/vdir%".</span></span>  
  
 <span data-ttu-id="29d63-218">同様に、部分的なユーザー名のワイルドカード検索では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティのテキスト文字列内の任意の位置にワイルドカード文字が表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-218">Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property.</span></span> <span data-ttu-id="29d63-219">たとえば、"John" で始まるすべてのユーザー名を検索するために、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> パラメーターは "John%" のようになります。</span><span class="sxs-lookup"><span data-stu-id="29d63-219">For example, to find all user names that start with "John", the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like "John%".</span></span>  
  
 <span data-ttu-id="29d63-220">次のクエリ制約が適用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-220">The following query constraints apply:</span></span>  
  
-   <span data-ttu-id="29d63-221">`scope` のみが指定され、`query` が `null` か、または `query` のすべてのプロパティが `null` または既定値を返す場合、指定した `scope` パラメーターに一致するすべてのレコードがカウントされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-221">If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are counted.</span></span>  
  
-   <span data-ttu-id="29d63-222"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティが `null`でない場合は、カウントされたレコードも <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> 値に一致するパスに基づいてフィルター処理されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-222">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the counted records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.</span></span>  
  
-   <span data-ttu-id="29d63-223"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティが `null`でない場合は、カウントされたレコードも、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> プロパティ値と一致するユーザー名に基づいてフィルター処理されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-223">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the counted records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.</span></span>  
  
-   <span data-ttu-id="29d63-224"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティが <xref:System.DateTime.MaxValue>と等しくない場合は、カウントされたレコードもフィルター処理され、アクティブでないユーザーに関連付けられているレコードのみが返されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-224">If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the counted records are also filtered to return only those records associated with inactive users.</span></span> <span data-ttu-id="29d63-225">この比較には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> プロパティが <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティ以下のレコードが含まれます。</span><span class="sxs-lookup"><span data-stu-id="29d63-225">The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.</span></span>  
  
 <span data-ttu-id="29d63-226">このメソッドでは、クエリパラメーターの組み合わせは検証されないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="29d63-226">Note that this method does not validate combinations of query parameters.</span></span> <span data-ttu-id="29d63-227">たとえば、コードでは、共有スコープ内の特定のユーザー名に関連付けられたパーソナル化状態レコードの数を要求できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-227">For example, code can request a count of personalization state records associated with a specific user name in the shared scope.</span></span> <span data-ttu-id="29d63-228">ユーザー名は共有情報に関連付けられていないため、返されるカウントはゼロになります。</span><span class="sxs-lookup"><span data-stu-id="29d63-228">Because user names are not associated with shared information, the returned count would be zero.</span></span>  
  
 <span data-ttu-id="29d63-229">0以外のカウントを返す可能性があるパラメーターの組み合わせには、次のようなものがあります。</span><span class="sxs-lookup"><span data-stu-id="29d63-229">Parameter combinations that have the potential to return a non-zero count include:</span></span>  
  
-   <span data-ttu-id="29d63-230"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> プロパティと組み合わせて使用します。</span><span class="sxs-lookup"><span data-stu-id="29d63-230"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.</span></span>  
  
-   <span data-ttu-id="29d63-231"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>、<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>、および <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティのいずれかまたはすべての値と組み合わせて使用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-231"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub LoadPersonalizationBlobs (webPartManager As WebPartManager, path As String, userName As String, ByRef sharedDataBlob As Byte(), ByRef userDataBlob As Byte())" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * Byte[] * Byte[] -&gt; unit" Usage="personalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-232">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-232">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="29d63-233">取得キーとして使用されるパーソナル化情報のパス。</span><span class="sxs-lookup"><span data-stu-id="29d63-233">The path for personalization information to be used as the retrieval key.</span></span></param>
        <param name="userName"><span data-ttu-id="29d63-234">取得キーとして使用されるパーソナル化情報のユーザー名。</span><span class="sxs-lookup"><span data-stu-id="29d63-234">The user name for personalization information to be used as the retrieval key.</span></span></param>
        <param name="sharedDataBlob"><span data-ttu-id="29d63-235"><see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> スコープに返されたデータ。</span><span class="sxs-lookup"><span data-stu-id="29d63-235">The returned data for the <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> scope.</span></span></param>
        <param name="userDataBlob"><span data-ttu-id="29d63-236"><see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> スコープに返されたデータ。</span><span class="sxs-lookup"><span data-stu-id="29d63-236">The returned data for the <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> scope.</span></span></param>
        <summary><span data-ttu-id="29d63-237">派生クラス内でオーバーライドされると、基になるデータ ストアから生のパーソナル化データを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="29d63-237">When overridden in a derived class, loads raw personalization data from the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-238"><xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するクラスでは、`webPartManager`、`path`、および `username` のパラメーターを取得キーとして使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-238">Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `username` parameters as retrieval keys.</span></span> <span data-ttu-id="29d63-239">データがデータストアにどのように格納されているかに関係なく (一部のデータストアは、何らかの種類のインテリジェントストレージを実行する場合があります)、パーソナル化データは2つの配列のパックされたバイトのセットとして返される必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-239">Regardless of how the data is stored in the data store (some data stores might perform some type of intelligent storage), the personalization data must be returned as a packed set of bytes in two arrays.</span></span> <span data-ttu-id="29d63-240">返されるデータは、次の規則に従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-240">The returned data must conform to the following rules:</span></span>  
  
-   <span data-ttu-id="29d63-241"><xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープのデータは、常に `sharedDataBlob` パラメーターで返される必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-241">The data for the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope must always be returned in the `sharedDataBlob` parameter.</span></span>  
  
-   <span data-ttu-id="29d63-242">キーの値によって <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データが `userDataBlob` パラメーターに返されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-242">Depending on the key values, <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data is returned in the `userDataBlob` parameter.</span></span> <span data-ttu-id="29d63-243">`userName` パラメーターの`null` 以外の値は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データも取得する必要があることを示します。</span><span class="sxs-lookup"><span data-stu-id="29d63-243">A non-`null` value for the `userName` parameter indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data should also be retrieved.</span></span>  
  
 <span data-ttu-id="29d63-244"><xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するパーソナル化プロバイダーは、1回のラウンドトリップですべてのパーソナル化データを取得することで、データストアとの対話を最適化できます。これは、2つの異なるラウンドトリップで <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> データを取得することではありません。</span><span class="sxs-lookup"><span data-stu-id="29d63-244">A personalization provider that derives from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implements this method can optimize interactions with its data store by retrieving all personalization data in one round trip, as opposed to retrieving <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> data in two separate round trips.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function LoadPersonalizationState (webPartManager As WebPartManager, ignoreCurrentUser As Boolean) As PersonalizationState" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationState ^ LoadPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="F#" Value="abstract member LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState&#xA;override this.LoadPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager * bool -&gt; System.Web.UI.WebControls.WebParts.PersonalizationState" Usage="personalizationProvider.LoadPersonalizationState (webPartManager, ignoreCurrentUser)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationState</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="ignoreCurrentUser" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-245">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-245">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="ignoreCurrentUser"><span data-ttu-id="29d63-246">そのユーザー名がパーソナル化プロバイダーに渡される必要があるかどうかを示している <see cref="T:System.Boolean" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-246">A <see cref="T:System.Boolean" /> indicating whether the user name should be passed to the personalization provider.</span></span></param>
        <summary><span data-ttu-id="29d63-247">基になるデータ ストアから生のデータを読み込み、そのデータを <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> オブジェクトに変換します。</span><span class="sxs-lookup"><span data-stu-id="29d63-247">Loads the raw data from the underlying data store and converts that data into a <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> object.</span></span></summary>
        <returns><span data-ttu-id="29d63-248">パーソナル化データを格納している <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-248">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> containing personalization data.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-249">このメソッドは、パーソナル化データを読み込むために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。</span><span class="sxs-lookup"><span data-stu-id="29d63-249">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to load personalization data.</span></span> <span data-ttu-id="29d63-250">既定の実装は、基になるデータストアから生データを読み込み (派生プロバイダーで機能が実装されます)、その後、生データを <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> インスタンスに変換します。</span><span class="sxs-lookup"><span data-stu-id="29d63-250">The default implementation loads the raw data from the underlying data store (functionality is implemented in derived providers) and then converts the raw data into a <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> instance.</span></span>  
  
 <span data-ttu-id="29d63-251">`ignoreCurrentUser` パラメーターが `true`の場合、ユーザー名は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> メソッドに渡されません。</span><span class="sxs-lookup"><span data-stu-id="29d63-251">If the `ignoreCurrentUser` parameter is `true`, no user name is passed to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> method.</span></span> <span data-ttu-id="29d63-252">パーソナル化プロバイダーはこれを解釈することを選択できます。これは、<xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープを持つパーソナル化状態のみが基になるデータストアから取得されることを意味します。</span><span class="sxs-lookup"><span data-stu-id="29d63-252">A personalization provider can choose to interpret this as meaning that only personalization state with a <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope should be retrieved from the underlying data store.</span></span>  
  
 <span data-ttu-id="29d63-253"><xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> メソッドが実行されている場合は、<xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> メソッドを呼び出し、状態の読み込み中に発生する可能性がある逆シリアル化エラーには3つの種類があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-253">When the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> method is executing, it calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> method, and there are three types of deserialization errors that can occur as the state is being loaded.</span></span> <span data-ttu-id="29d63-254">これらの特定のエラーが発生すると、例外はスローされず、正常性の監視機能によってエラーイベントがログに記録されます (正常性の監視とそれによって作成されたログへのアクセスについては、「 [ASP.NET Health monitoring の概要](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)」を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="29d63-254">When these specific errors occur, no exception is thrown, and the error events are logged instead by the Health Monitoring feature (for information on health monitoring and accessing the logs created by it, see [ASP.NET Health Monitoring Overview](https://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)).</span></span> <span data-ttu-id="29d63-255">次の3つのシナリオでは、シリアル化解除エラーイベントがログに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="29d63-255">The following three scenarios cause deserialization error events to be written to the log:</span></span>  
  
-   <span data-ttu-id="29d63-256">文字列 <xref:System.ComponentModel.TypeConverter>を使用するプロパティ型を逆シリアル化しようとしましたが、失敗しました。</span><span class="sxs-lookup"><span data-stu-id="29d63-256">A failed attempt to deserialize a property type that uses a string <xref:System.ComponentModel.TypeConverter>.</span></span>  
  
-   <span data-ttu-id="29d63-257">バイナリシリアル化を使用するプロパティ型を逆シリアル化しようとしましたが、失敗しました。</span><span class="sxs-lookup"><span data-stu-id="29d63-257">A failed attempt to deserialize a property type that uses binary serialization.</span></span>  
  
-   <span data-ttu-id="29d63-258">型のインスタンスを作成できないため、プロパティ型の逆シリアル化に失敗しました。</span><span class="sxs-lookup"><span data-stu-id="29d63-258">A failed attempt to deserialize a property type because an instance of the type cannot be created.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="29d63-259"><paramref name="webPartManager" /> は <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-259">The <paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="29d63-260"><paramref name="webPartManager" /> に関連付けられているページが <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-260">The page associated with <paramref name="webPartManager" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="29d63-261">または</span><span class="sxs-lookup"><span data-stu-id="29d63-261">-or-</span></span> 
<span data-ttu-id="29d63-262">ページに関連付けられている要求が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-262">The request associated with the page is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub ResetPersonalizationBlob (webPartManager As WebPartManager, path As String, userName As String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="personalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-263">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-263">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="29d63-264">データ ストア キーとして使用されるパーソナル化情報のパス。</span><span class="sxs-lookup"><span data-stu-id="29d63-264">The path for personalization information to be used as the data store key.</span></span></param>
        <param name="userName"><span data-ttu-id="29d63-265">データ ストア キーとして使用されるパーソナル化情報のユーザー名。</span><span class="sxs-lookup"><span data-stu-id="29d63-265">The user name for personalization information to be used as the data store key.</span></span></param>
        <summary><span data-ttu-id="29d63-266">派生クラス内でオーバーライドされると、基になるデータ ストアから生のパーソナル化データを削除します。</span><span class="sxs-lookup"><span data-stu-id="29d63-266">When overridden in a derived class, deletes raw personalization data from the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-267"><xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> から派生し、このメソッドを実装するクラスでは、`webPartManager`、`path`、および `userName` のパラメーターをストレージキーとして使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-267">Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `userName` parameters as storage keys.</span></span> <span data-ttu-id="29d63-268">派生実装では、指定されたストレージキーのパーソナル化データが実質的に削除されるように、データストアを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-268">Derived implementations must modify the data store so that personalization data for supplied storage keys is effectively deleted.</span></span> <span data-ttu-id="29d63-269">これは、この実装が物理的にどのように実現しているかによって、派生した実装になります。</span><span class="sxs-lookup"><span data-stu-id="29d63-269">It is up to the derived implementations as to how they physically accomplish this.</span></span>  
  
 <span data-ttu-id="29d63-270">派生パーソナル化プロバイダーは、ページごとにパーソナル化データを区別できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-270">The derived personalization provider must be able to distinguish personalization data on a per-page basis.</span></span> <span data-ttu-id="29d63-271">さらに、特定のページの状態については、パーソナル化プロバイダーが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープデータを区別できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-271">Furthermore, for a given page's state, the personalization provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope data.</span></span> <span data-ttu-id="29d63-272">`null` ないユーザー名が指定されている場合は、リセット操作が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープに適用されます。それ以外の場合、リセット操作は <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープに適用されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-272">If a non-`null` user name is provided, then the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope; otherwise, the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub ResetPersonalizationState (webPartManager As WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ResetPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberSignature Language="F#" Value="abstract member ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit&#xA;override this.ResetPersonalizationState : System.Web.UI.WebControls.WebParts.WebPartManager -&gt; unit" Usage="personalizationProvider.ResetPersonalizationState webPartManager" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-273">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-273">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <summary><span data-ttu-id="29d63-274">パーソナル化データを基になるデータ ストアの状態にリセットします。</span><span class="sxs-lookup"><span data-stu-id="29d63-274">Resets personalization data to the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-275">このメソッドは、パーソナル化データをリセットするために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。</span><span class="sxs-lookup"><span data-stu-id="29d63-275">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to reset personalization data.</span></span> <span data-ttu-id="29d63-276">既定の実装では、<xref:System.Web.UI.WebControls.WebParts.WebPartManager> コントロールを使用して、リセットするデータのパスとユーザー名を決定します。</span><span class="sxs-lookup"><span data-stu-id="29d63-276">The default implementation uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to determine the path and user name for the data to be reset.</span></span> <span data-ttu-id="29d63-277">次に、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="29d63-277">The default implementation then calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="29d63-278"><paramref name="webPartManager" /> が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-278"><paramref name="webPartManager" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="29d63-279"><paramref name="webPartManager" /> がページに関連付けられていません。</span><span class="sxs-lookup"><span data-stu-id="29d63-279"><paramref name="webPartManager" /> is not associated with a page.</span></span>  
  
<span data-ttu-id="29d63-280">または</span><span class="sxs-lookup"><span data-stu-id="29d63-280">-or-</span></span> 
<span data-ttu-id="29d63-281">このページは、実行中の <see cref="T:System.Web.HttpRequest" /> に関連付けられていません。</span><span class="sxs-lookup"><span data-stu-id="29d63-281">The page is not associated with an in-progress <see cref="T:System.Web.HttpRequest" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="abstract member ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="personalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope"><span data-ttu-id="29d63-282">リセットされるパーソナル化情報の <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-282">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" /> of the personalization information to be reset.</span></span> <span data-ttu-id="29d63-283">この値を <see langword="null" /> にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-283">This value cannot be <see langword="null" />.</span></span></param>
        <param name="paths"><span data-ttu-id="29d63-284">削除されるパーソナル化情報のパス。</span><span class="sxs-lookup"><span data-stu-id="29d63-284">The paths for personalization information to be deleted.</span></span></param>
        <param name="usernames"><span data-ttu-id="29d63-285">削除されるパーソナル化情報のユーザー名。</span><span class="sxs-lookup"><span data-stu-id="29d63-285">The user names for personalization information to be deleted.</span></span></param>
        <summary><span data-ttu-id="29d63-286">派生クラス内でオーバーライドされると、指定したパラメーターに基づいて、基になるデータ ストアからパーソナル化状態が削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-286">When overridden in a derived class, deletes personalization state from the underlying data store based on the specified parameters.</span></span></summary>
        <returns><span data-ttu-id="29d63-287">削除された行数。</span><span class="sxs-lookup"><span data-stu-id="29d63-287">The number of rows deleted.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-288">このメソッドは、パーソナル化データを削除するための管理メソッドの抽象定義です。</span><span class="sxs-lookup"><span data-stu-id="29d63-288">This method is the abstract definition of an administrative method for deleting personalization data.</span></span> <span data-ttu-id="29d63-289">派生実装は、以下で説明するロジックに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-289">Derived implementations should follow the logic described below.</span></span>  
  
 <span data-ttu-id="29d63-290">このメソッドでは、ワイルドカード文字検索はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="29d63-290">No wildcard character searches are supported by this method.</span></span> <span data-ttu-id="29d63-291">パーソナル化プロバイダーがトランザクション対応データストアからデータを公開する場合、このメソッドは1つのアトミックトランザクションとして操作を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-291">If the personalization provider exposes data from a transaction-aware data store, this method should perform its operations as a single atomic transaction.</span></span>  
  
 <span data-ttu-id="29d63-292">次のパラメーターの組み合わせのみが許可されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-292">Only the following combinations of parameters are allowed:</span></span>  
  
-   <span data-ttu-id="29d63-293">`scope` パラメーターが設定され、その他のすべてのパラメーターは `null`に設定されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-293">The `scope` parameter is set, and all other parameters are set to `null`.</span></span> <span data-ttu-id="29d63-294">この組み合わせは、`scope`によって示されるパーソナル化スコープに関連付けられているすべての Web パーツパーソナル化データを削除します。</span><span class="sxs-lookup"><span data-stu-id="29d63-294">This combination deletes all Web Parts personalization data associated with the personalization scope indicated by `scope`.</span></span>  
  
-   <span data-ttu-id="29d63-295">`scope` パラメーターが設定されており、`paths` パラメーターに少なくとも1つの値が含まれています。</span><span class="sxs-lookup"><span data-stu-id="29d63-295">The `scope` parameter is set, and the `paths` parameter contains at least one value.</span></span> <span data-ttu-id="29d63-296">この組み合わせは、`scope`によって示されるパーソナル化スコープ内の指定されたパスまたはパスのすべての Web パーツパーソナル化データを削除します。</span><span class="sxs-lookup"><span data-stu-id="29d63-296">This combination deletes all Web Parts personalization data for the specified path or paths in the personalization scope indicated by `scope`.</span></span>  
  
-   <span data-ttu-id="29d63-297">`scope` パラメーターが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>に設定されています。 `paths` パラメーターが設定され、1つの値のみが含まれています。また、`usernames` パラメーターには少なくとも1つの値が含まれています。</span><span class="sxs-lookup"><span data-stu-id="29d63-297">The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, the `paths` parameter is set and contains only one value, and the `usernames` parameter contains at least one value.</span></span> <span data-ttu-id="29d63-298">この組み合わせにより、`usernames`に含まれるユーザーまたはユーザーに関連付けられている特定のパスについて、すべてのユーザーの個人用設定 Web パーツデータが削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-298">This combination deletes all user personalization Web Parts data for the given path that is associated with the user or users contained in `usernames`.</span></span>  
  
-   <span data-ttu-id="29d63-299">`scope` パラメーターが <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>に設定されています。 `paths` パラメーターが `null`に設定されており、`usernames` パラメーターに少なくとも1つの値が含まれています。</span><span class="sxs-lookup"><span data-stu-id="29d63-299">The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, the `paths` parameter is set to `null`, and the `usernames` parameter contains at least one value.</span></span> <span data-ttu-id="29d63-300">この組み合わせにより、`usernames`に含まれるユーザーまたはユーザーに関連付けられているすべてのパスで、ユーザーごとのパーソナル化 Web パーツデータがすべて削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-300">This combination deletes all per-user personalization Web Parts data, across all paths, associated with the user or users contained in `usernames`.</span></span>  
  
 <span data-ttu-id="29d63-301">その他のパラメーター値の組み合わせは無効であるため、<xref:System.ArgumentException> 例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-301">Any other combination of parameter values is invalid and will throw an <xref:System.ArgumentException> exception.</span></span> <span data-ttu-id="29d63-302">具体的には、次の2つの組み合わせは使用できません。</span><span class="sxs-lookup"><span data-stu-id="29d63-302">Specifically, the following two combinations are not allowed:</span></span>  
  
-   <span data-ttu-id="29d63-303">`scope` が <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>に設定されている場合、`usernames` パラメーターを指定することはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-303">The `usernames` parameter cannot be provided when `scope` is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.</span></span>  
  
-   <span data-ttu-id="29d63-304">`usernames` パラメーターが `null`ない場合、`paths` パラメーターに複数のエントリを含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-304">The `paths` parameter cannot contain more than one entry when the `usernames` parameter is not `null`.</span></span>  
  
 <span data-ttu-id="29d63-305">各配列内に含まれるすべての `paths` および `usernames` パラメーター値は、次の検証規則を満たしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-305">Any `paths` and `usernames` parameter values contained within the respective arrays must meet the following validation rules.</span></span> <span data-ttu-id="29d63-306">パラメーター配列のメンバーに対していずれかの検証規則が失敗した場合は、<xref:System.ArgumentException> 例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-306">If any validation rules fail for any member of the parameter arrays, an <xref:System.ArgumentException> exception is thrown.</span></span> <span data-ttu-id="29d63-307">検証規則は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="29d63-307">The validation rules are:</span></span>  
  
-   <span data-ttu-id="29d63-308">`null` 値は使用できません。</span><span class="sxs-lookup"><span data-stu-id="29d63-308">`null` values are not allowed.</span></span>  
  
-   <span data-ttu-id="29d63-309">空の文字列 ("") は使用できません。</span><span class="sxs-lookup"><span data-stu-id="29d63-309">An empty string ("") is not allowed.</span></span> <span data-ttu-id="29d63-310">空の文字列チェックを実行する前に、パラメーターを削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-310">Parameters should be trimmed prior to performing an empty string check.</span></span>  
  
-   <span data-ttu-id="29d63-311">`usernames` パラメーターにコンマ (,) を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-311">The `usernames` parameter cannot contain commas (,).</span></span>  
  
-   <span data-ttu-id="29d63-312">SQL データベースでは、`paths` パラメーターの長さを256文字より大きくすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-312">The length of the `paths` parameter cannot be greater than 256 characters for a SQL database.</span></span>  
  
-   <span data-ttu-id="29d63-313">SQL データベースでは、`usernames` パラメーターの長さを256文字より大きくすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-313">The length of the `usernames` parameter cannot be greater than 256 characters for a SQL database.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="abstract member ResetUserState : string * DateTime -&gt; int" Usage="personalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path"><span data-ttu-id="29d63-314">削除されるパーソナル化データのパス。</span><span class="sxs-lookup"><span data-stu-id="29d63-314">The path of the personalization data to be deleted.</span></span> <span data-ttu-id="29d63-315">この値に <see langword="null" /> は使用できますが、空の文字列 ("") は使用できません。</span><span class="sxs-lookup"><span data-stu-id="29d63-315">This value can be <see langword="null" /> but cannot be an empty string ("").</span></span></param>
        <param name="userInactiveSinceDate"><span data-ttu-id="29d63-316">Web サイトのユーザーがパーソナル化データを最後に変更した日付。</span><span class="sxs-lookup"><span data-stu-id="29d63-316">The date indicating the last time a Web site user changed personalization data.</span></span></param>
        <summary><span data-ttu-id="29d63-317">派生クラス内でオーバーライドされると、指定したパラメーターに基づいて、Web パーツ パーソナル化データが基になるデータ ストアから削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-317">When overridden in a derived class, deletes Web Parts personalization data from the underlying data store based on the specified parameters.</span></span></summary>
        <returns><span data-ttu-id="29d63-318">基になるデータ ストアから削除された行数。</span><span class="sxs-lookup"><span data-stu-id="29d63-318">The number of rows deleted from the underlying data store.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-319">このメソッドは、パーソナル化データを削除するための管理メソッドの抽象定義です。</span><span class="sxs-lookup"><span data-stu-id="29d63-319">This method is the abstract definition of an administrative method for deleting personalization data.</span></span> <span data-ttu-id="29d63-320">このメソッドは、共有データではなく、ユーザーのパーソナル化データにのみ影響することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="29d63-320">Note that this method affects only user personalization data, and not shared data.</span></span>  
  
 <span data-ttu-id="29d63-321">派生実装は、以下で説明するロジックに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-321">Derived implementations should follow the logic described below:</span></span>  
  
-   <span data-ttu-id="29d63-322">`path` パラメーターには、ワイルドカード文字を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-322">The `path` parameter cannot contain wildcard characters.</span></span>  
  
-   <span data-ttu-id="29d63-323">プロバイダーがトランザクション対応データストアからデータを公開する場合、このメソッドは1つのアトミックトランザクションで操作を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-323">If the provider exposes data from a transaction-aware data store, this method should perform its operations in a single atomic transaction.</span></span>  
  
-   <span data-ttu-id="29d63-324">`path` パラメーターが非`null`の場合、`path` に関連付けられているユーザーごとの個人用設定レコードのみが削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-324">If the `path` parameter is non-`null`, then only per-user personalization records associated with `path` will be deleted.</span></span>  
  
-   <span data-ttu-id="29d63-325">`userInactiveSinceDate` パラメーターに示された日付以降、非アクティブと見なされるユーザーに関連付けられたユーザーごとの個人用設定レコードのみが削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-325">Only per-user personalization records associated with users that are considered inactive since the date indicated in the `userInactiveSinceDate` parameter will be deleted.</span></span> <span data-ttu-id="29d63-326">具体的には、<xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> が <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> 以下のレコードは削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-326">Specifically, records where <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> is less than or equal to <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> are deleted.</span></span>  
  
-   <span data-ttu-id="29d63-327">両方のパラメーターが指定されている場合、両方の制約に一致するレコードが削除されます。</span><span class="sxs-lookup"><span data-stu-id="29d63-327">If both parameters are provided, then records that match both constraints are deleted.</span></span>  
  
-   <span data-ttu-id="29d63-328">`path` パラメーターは `null`できます。</span><span class="sxs-lookup"><span data-stu-id="29d63-328">The `path` parameter can be `null`.</span></span>  
  
-   <span data-ttu-id="29d63-329">`path` パラメーターを空の文字列にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-329">The `path` parameter cannot be an empty string.</span></span> <span data-ttu-id="29d63-330">このチェックを実行する前に、削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-330">It should be trimmed prior to performing this check.</span></span>  
  
-   <span data-ttu-id="29d63-331"><xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> プロパティを `null` にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="29d63-331">The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property cannot be `null`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Sub SavePersonalizationBlob (webPartManager As WebPartManager, path As String, userName As String, dataBlob As Byte())" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="personalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager"><span data-ttu-id="29d63-332">パーソナル化データを管理している <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-332">The <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> managing the personalization data.</span></span></param>
        <param name="path"><span data-ttu-id="29d63-333">データ ストア キーとして使用されるパーソナル化情報のパス。</span><span class="sxs-lookup"><span data-stu-id="29d63-333">The path for personalization information to be used as the data store key.</span></span></param>
        <param name="userName"><span data-ttu-id="29d63-334">キーとして使用されるパーソナル化情報のユーザー名。</span><span class="sxs-lookup"><span data-stu-id="29d63-334">The user name for personalization information to be used as the key.</span></span></param>
        <param name="dataBlob"><span data-ttu-id="29d63-335">保存されるバイト配列のデータ。</span><span class="sxs-lookup"><span data-stu-id="29d63-335">The byte array of data to be saved.</span></span></param>
        <summary><span data-ttu-id="29d63-336">派生クラス内でオーバーライドされると、基になるデータ ストアに生のパーソナル化データを保存します。</span><span class="sxs-lookup"><span data-stu-id="29d63-336">When overridden in a derived class, saves raw personalization data to the underlying data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-337">このメソッドは、基になるデータストアに生のパーソナル化データを保存するために使用されるメソッドの抽象定義です。</span><span class="sxs-lookup"><span data-stu-id="29d63-337">This method is the abstract definition of the method used for saving raw personalization data to the underlying data store.</span></span>  
  
 <span data-ttu-id="29d63-338">派生実装では、`webPartManager`、`path`、および `userName` パラメーターをストレージキーとして使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-338">Derived implementations should use the `webPartManager`, `path`, and `userName` parameters as storage keys.</span></span> <span data-ttu-id="29d63-339">派生パーソナル化プロバイダーは、ページごとにパーソナル化データを区別できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-339">The derived personalization provider must be able to distinguish personalization data on a per-page basis.</span></span> <span data-ttu-id="29d63-340">さらに、特定のページの状態については、プロバイダーは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> と <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープを区別できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="29d63-340">Furthermore, for a given page's state, the provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope.</span></span> <span data-ttu-id="29d63-341">`null` 以外のユーザー名が指定されている場合、`dataBlob` パラメーターは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> スコープにあります。それ以外の場合、`dataBlob` パラメーターは <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> スコープ内にあると見なされます。</span><span class="sxs-lookup"><span data-stu-id="29d63-341">If a non-`null` user name is provided, then the `dataBlob` parameter is in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> scope; otherwise, the `dataBlob` parameter is assumed to be in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> scope.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SavePersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SavePersonalizationState (state As PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SavePersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationState ^ state);" />
      <MemberSignature Language="F#" Value="abstract member SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit&#xA;override this.SavePersonalizationState : System.Web.UI.WebControls.WebParts.PersonalizationState -&gt; unit" Usage="personalizationProvider.SavePersonalizationState state" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="state"><span data-ttu-id="29d63-342">保存されるパーソナル化データを格納している <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />。</span><span class="sxs-lookup"><span data-stu-id="29d63-342">A <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> containing personalization data to be saved.</span></span></param>
        <summary><span data-ttu-id="29d63-343">パーソナル化データをデータ ストアに保存します。</span><span class="sxs-lookup"><span data-stu-id="29d63-343">Saves personalization data to a data store.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="29d63-344">このメソッドは、パーソナル化データを保存するために <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> クラスによって使用されるメインエントリポイントです。</span><span class="sxs-lookup"><span data-stu-id="29d63-344">This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to save personalization data.</span></span>  
  
 <span data-ttu-id="29d63-345">このメソッドの既定の実装では、<xref:System.Web.UI.WebControls.WebParts.PersonalizationState> の内部実装のメソッドを使用して、パーソナル化データをバイト配列にパックします。</span><span class="sxs-lookup"><span data-stu-id="29d63-345">The default implementation of this method uses the methods of an internal implementation of <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> to pack personalization data into a byte array.</span></span> <span data-ttu-id="29d63-346">このパッキングの結果で空のバイト配列が作成された場合 (プロパティの抽出によってパーソナル化データが生成されなかったため)、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="29d63-346">If the results of this packing create an empty byte array (because property extraction resulted in no personalization data), the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method.</span></span> <span data-ttu-id="29d63-347">それ以外の場合、既定の実装は <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="29d63-347">Otherwise, the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="29d63-348"><paramref name="state" /> が <see langword="null" /> です。</span><span class="sxs-lookup"><span data-stu-id="29d63-348"><paramref name="state" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="29d63-349">保存される <paramref name="state" /> オブジェクトの型が、<paramref name="state" /> メソッドから返された <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" /> オブジェクトと異なります。</span><span class="sxs-lookup"><span data-stu-id="29d63-349">The <paramref name="state" /> object being saved has a different type from the <paramref name="state" /> object that was returned by the <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" /> method.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>
